{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"value\", \"length\", \"index\", \"onElementSelect\", \"onClick\", \"onFocus\", \"getRootRef\", \"className\"];\nimport * as React from 'react';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { stopPropagation } from '../../lib/utils';\nimport { classNames } from '@vkontakte/vkjs';\nvar MASK_SYMBOL = String.fromCharCode(0x2007);\nfunction getMaskElements(length) {\n  var result = [];\n  for (var _index = 0; _index < length; _index += 1) {\n    result.push( /*#__PURE__*/React.createElement(\"span\", {\n      key: _index,\n      className: \"vkuiInputLike__mask\"\n    }, MASK_SYMBOL));\n  }\n  return result;\n}\nexport var InputLike = function InputLike(_ref) {\n  var _value$length;\n  var value = _ref.value,\n    length = _ref.length,\n    index = _ref.index,\n    onElementSelect = _ref.onElementSelect,\n    onClick = _ref.onClick,\n    onFocus = _ref.onFocus,\n    getRootRef = _ref.getRootRef,\n    className = _ref.className,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var handleElementSelect = React.useCallback(function (event) {\n    stopPropagation(event);\n    onElementSelect === null || onElementSelect === void 0 ? void 0 : onElementSelect(index);\n  }, [index, onElementSelect]);\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    className: classNames(\"vkuiInputLike\", (value === null || value === void 0 ? void 0 : value.length) === length && \"vkuiInputLike--full\", className),\n    tabIndex: 0,\n    ref: getRootRef,\n    onClick: callMultiple(onClick, handleElementSelect),\n    onFocus: callMultiple(stopPropagation, onFocus)\n  }, props), value === null || value === void 0 ? void 0 : value.slice(0, length - 1), (value === null || value === void 0 ? void 0 : value.slice(length - 1)) && /*#__PURE__*/React.createElement(\"span\", {\n    key: index,\n    className: \"vkuiInputLike__last_character\"\n  }, value.slice(length - 1)), getMaskElements(length - ((_value$length = value === null || value === void 0 ? void 0 : value.length) !== null && _value$length !== void 0 ? _value$length : 0)));\n};\nInputLike.displayName = 'InputLike';","map":{"version":3,"names":["React","callMultiple","stopPropagation","classNames","MASK_SYMBOL","String","fromCharCode","getMaskElements","length","result","_index","push","createElement","key","className","InputLike","_ref","_value$length","value","index","onElementSelect","onClick","onFocus","getRootRef","props","_objectWithoutProperties","_excluded","handleElementSelect","useCallback","event","_extends","tabIndex","ref","slice","displayName"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\InputLike\\InputLike.tsx"],"sourcesContent":["import * as React from 'react';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { stopPropagation } from '../../lib/utils';\nimport { classNames } from '@vkontakte/vkjs';\nimport { HasRootRef } from '../../types';\nimport styles from './InputLike.module.css';\n\nexport interface InputLikeProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    HasRootRef<HTMLSpanElement> {\n  length: number;\n  index: number;\n  value?: string;\n  onElementSelect?(index: number): void;\n}\n\nconst MASK_SYMBOL = String.fromCharCode(0x2007);\n\nfunction getMaskElements(length: number) {\n  const result = [];\n  for (let index = 0; index < length; index += 1) {\n    result.push(\n      <span key={index} className={styles['InputLike__mask']}>\n        {MASK_SYMBOL}\n      </span>,\n    );\n  }\n  return result;\n}\n\nexport const InputLike = ({\n  value,\n  length,\n  index,\n  onElementSelect,\n  onClick,\n  onFocus,\n  getRootRef,\n  className,\n  ...props\n}: InputLikeProps) => {\n  const handleElementSelect = React.useCallback(\n    (event: React.MouseEvent<HTMLSpanElement>) => {\n      stopPropagation(event);\n      onElementSelect?.(index);\n    },\n    [index, onElementSelect],\n  );\n\n  return (\n    <span\n      className={classNames(\n        styles['InputLike'],\n        value?.length === length && styles[`InputLike--full`],\n        className,\n      )}\n      tabIndex={0}\n      ref={getRootRef}\n      onClick={callMultiple(onClick, handleElementSelect)}\n      onFocus={callMultiple(stopPropagation, onFocus)}\n      {...props}\n    >\n      {value?.slice(0, length - 1)}\n      {value?.slice(length - 1) && (\n        <span key={index} className={styles['InputLike__last_character']}>\n          {value.slice(length - 1)}\n        </span>\n      )}\n      {getMaskElements(length - (value?.length ?? 0))}\n    </span>\n  );\n};\n\nInputLike.displayName = 'InputLike';\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,YAAY,QAAQ,wBAAwB;AACrD,SAASC,eAAe,QAAQ,iBAAiB;AACjD,SAASC,UAAU,QAAQ,iBAAiB;AAa5C,IAAMC,WAAW,GAAGC,MAAM,CAACC,YAAY,CAAC,MAAM,CAAC;AAE/C,SAASC,eAAeA,CAACC,MAAc,EAAE;EACvC,IAAMC,MAAM,GAAG,EAAE;EACjB,KAAK,IAAIC,MAAK,GAAG,CAAC,EAAEA,MAAK,GAAGF,MAAM,EAAEE,MAAK,IAAI,CAAC,EAAE;IAC9CD,MAAM,CAACE,IAAI,eACTX,KAAA,CAAAY,aAAA;MAAMC,GAAG,EAAEH,MAAM;MAACI,SAAS;IAA4B,GACpDV,WAAW,CACP,CACR;EACH;EACA,OAAOK,MAAM;AACf;AAEA,OAAO,IAAMM,SAAS,GAAG,SAAZA,SAASA,CAAAC,IAAA,EAUA;EAAA,IAAAC,aAAA;EAAA,IATpBC,KAAK,GAAAF,IAAA,CAALE,KAAK;IACLV,MAAM,GAAAQ,IAAA,CAANR,MAAM;IACNW,KAAK,GAAAH,IAAA,CAALG,KAAK;IACLC,eAAe,GAAAJ,IAAA,CAAfI,eAAe;IACfC,OAAO,GAAAL,IAAA,CAAPK,OAAO;IACPC,OAAO,GAAAN,IAAA,CAAPM,OAAO;IACPC,UAAU,GAAAP,IAAA,CAAVO,UAAU;IACVT,SAAS,GAAAE,IAAA,CAATF,SAAS;IACNU,KAAK,GAAAC,wBAAA,CAAAT,IAAA,EAAAU,SAAA;EAER,IAAMC,mBAAmB,GAAG3B,KAAK,CAAC4B,WAAW,CAC3C,UAACC,KAAwC,EAAK;IAC5C3B,eAAe,CAAC2B,KAAK,CAAC;IACtBT,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAGD,KAAK,CAAC;EAC1B,CAAC,EACD,CAACA,KAAK,EAAEC,eAAe,CAAC,CACzB;EAED,oBACEpB,KAAA,CAAAY,aAAA,SAAAkB,QAAA;IACEhB,SAAS,EAAEX,UAAU,kBAEnB,CAAAe,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEV,MAAM,MAAKA,MAAM,yBAA6B,EACrDM,SAAS,CACT;IACFiB,QAAQ,EAAE,CAAE;IACZC,GAAG,EAAET,UAAW;IAChBF,OAAO,EAAEpB,YAAY,CAACoB,OAAO,EAAEM,mBAAmB,CAAE;IACpDL,OAAO,EAAErB,YAAY,CAACC,eAAe,EAAEoB,OAAO;EAAE,GAC5CE,KAAK,GAERN,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEe,KAAK,CAAC,CAAC,EAAEzB,MAAM,GAAG,CAAC,CAAC,EAC3B,CAAAU,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEe,KAAK,CAACzB,MAAM,GAAG,CAAC,CAAC,kBACvBR,KAAA,CAAAY,aAAA;IAAMC,GAAG,EAAEM,KAAM;IAACL,SAAS;EAAsC,GAC9DI,KAAK,CAACe,KAAK,CAACzB,MAAM,GAAG,CAAC,CAAC,CAE3B,EACAD,eAAe,CAACC,MAAM,KAAAS,aAAA,GAAIC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEV,MAAM,cAAAS,aAAA,cAAAA,aAAA,GAAI,CAAC,CAAC,CAAC,CAC1C;AAEX,CAAC;AAEDF,SAAS,CAACmB,WAAW,GAAG,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}