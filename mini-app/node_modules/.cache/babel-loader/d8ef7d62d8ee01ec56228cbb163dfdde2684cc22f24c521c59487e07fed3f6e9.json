{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport { hasMouse as _hasPointer } from '@vkontakte/vkjs';\nimport { SizeType, ViewWidth, ViewHeight, BREAKPOINTS } from '../../lib/adaptivity';\nimport { useBridgeAdaptivity } from '../../hooks/useBridgeAdaptivity';\nimport { AdaptivityContext } from './AdaptivityContext';\n/**\n * @see https://vkcom.github.io/VKUI/#/AdaptivityProvider\n */\nexport var AdaptivityProvider = function AdaptivityProvider(_ref) {\n  var viewWidth = _ref.viewWidth,\n    viewHeight = _ref.viewHeight,\n    sizeX = _ref.sizeX,\n    sizeY = _ref.sizeY,\n    hasPointer = _ref.hasPointer,\n    hasHover = _ref.hasHover,\n    children = _ref.children;\n  var bridge = useBridgeAdaptivity();\n  var _React$useState = React.useState({\n      viewWidth: viewWidth,\n      viewHeight: viewHeight,\n      sizeX: sizeX,\n      sizeY: sizeY,\n      hasPointer: hasPointer,\n      hasHover: hasHover\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    adaptivity = _React$useState2[0],\n    setAdaptivity = _React$useState2[1];\n  React.useEffect(function () {\n    setAdaptivity(calculateAdaptivity({\n      viewWidth: viewWidth,\n      viewHeight: viewHeight,\n      sizeX: sizeX,\n      sizeY: sizeY,\n      hasPointer: hasPointer,\n      hasHover: hasHover\n    }, bridge));\n  }, [viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover, bridge]);\n  return /*#__PURE__*/React.createElement(AdaptivityContext.Provider, {\n    value: adaptivity\n  }, children);\n};\nfunction calculateAdaptivity(_ref2, bridge) {\n  var viewWidth = _ref2.viewWidth,\n    viewHeight = _ref2.viewHeight,\n    sizeX = _ref2.sizeX,\n    sizeY = _ref2.sizeY,\n    hasPointer = _ref2.hasPointer,\n    hasHover = _ref2.hasHover;\n  if (bridge.type === 'adaptive') {\n    var viewportWidth = bridge.viewportWidth,\n      viewportHeight = bridge.viewportHeight;\n    if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n      viewWidth = ViewWidth.DESKTOP;\n    } else if (viewportWidth >= BREAKPOINTS.TABLET) {\n      viewWidth = ViewWidth.TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n      viewWidth = ViewWidth.SMALL_TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.MOBILE) {\n      viewWidth = ViewWidth.MOBILE;\n    } else {\n      viewWidth = ViewWidth.SMALL_MOBILE;\n    }\n    if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n      viewHeight = ViewHeight.MEDIUM;\n    } else if (viewportHeight > BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n      viewHeight = ViewHeight.SMALL;\n    } else {\n      viewHeight = ViewHeight.EXTRA_SMALL;\n    }\n    if (viewWidth <= ViewWidth.MOBILE) {\n      sizeX = SizeType.COMPACT;\n    } else {\n      sizeX = SizeType.REGULAR;\n    }\n    if (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer || viewHeight <= ViewHeight.EXTRA_SMALL) {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else if (bridge.type === 'force_mobile' || bridge.type === 'force_mobile_compact') {\n    viewWidth = ViewWidth.MOBILE;\n    sizeX = SizeType.COMPACT;\n    if (bridge.type === 'force_mobile_compact') {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else {\n    if (sizeX === undefined && viewWidth !== undefined) {\n      if (viewWidth <= ViewWidth.MOBILE) {\n        sizeX = SizeType.COMPACT;\n      } else {\n        sizeX = SizeType.REGULAR;\n      }\n    }\n    if (sizeY === undefined && viewWidth !== undefined && viewHeight !== undefined) {\n      if (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer || viewHeight <= ViewHeight.EXTRA_SMALL) {\n        sizeY = SizeType.COMPACT;\n      } else {\n        sizeY = SizeType.REGULAR;\n      }\n    }\n  }\n  return {\n    viewWidth: viewWidth,\n    viewHeight: viewHeight,\n    sizeX: sizeX,\n    sizeY: sizeY,\n    hasPointer: hasPointer,\n    hasHover: hasHover\n  };\n}","map":{"version":3,"names":["React","hasMouse","_hasPointer","SizeType","ViewWidth","ViewHeight","BREAKPOINTS","useBridgeAdaptivity","AdaptivityContext","AdaptivityProvider","_ref","viewWidth","viewHeight","sizeX","sizeY","hasPointer","hasHover","children","bridge","_React$useState","useState","_React$useState2","_slicedToArray","adaptivity","setAdaptivity","useEffect","calculateAdaptivity","createElement","Provider","value","_ref2","type","viewportWidth","viewportHeight","DESKTOP","TABLET","SMALL_TABLET","MOBILE","SMALL_MOBILE","MEDIUM_HEIGHT","MEDIUM","MOBILE_LANDSCAPE_HEIGHT","SMALL","EXTRA_SMALL","COMPACT","REGULAR","undefined"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\AdaptivityProvider\\AdaptivityProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { hasMouse as _hasPointer } from '@vkontakte/vkjs';\nimport { SizeType, ViewWidth, ViewHeight, BREAKPOINTS } from '../../lib/adaptivity';\nimport { useBridgeAdaptivity, BridgeAdaptivity } from '../../hooks/useBridgeAdaptivity';\nimport { type AdaptivityProps, AdaptivityContext } from './AdaptivityContext';\n\nexport interface AdaptivityProviderProps extends AdaptivityProps {\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AdaptivityProvider\n */\nexport const AdaptivityProvider = ({\n  viewWidth,\n  viewHeight,\n  sizeX,\n  sizeY,\n  hasPointer,\n  hasHover,\n  children,\n}: React.PropsWithChildren<AdaptivityProps>) => {\n  const bridge = useBridgeAdaptivity();\n  const [adaptivity, setAdaptivity] = React.useState({\n    viewWidth,\n    viewHeight,\n    sizeX,\n    sizeY,\n    hasPointer,\n    hasHover,\n  });\n\n  React.useEffect(() => {\n    setAdaptivity(\n      calculateAdaptivity(\n        {\n          viewWidth,\n          viewHeight,\n          sizeX,\n          sizeY,\n          hasPointer,\n          hasHover,\n        },\n        bridge,\n      ),\n    );\n  }, [viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover, bridge]);\n\n  return <AdaptivityContext.Provider value={adaptivity}>{children}</AdaptivityContext.Provider>;\n};\n\nfunction calculateAdaptivity(\n  { viewWidth, viewHeight, sizeX, sizeY, hasPointer, hasHover }: AdaptivityProps,\n  bridge: BridgeAdaptivity,\n) {\n  if (bridge.type === 'adaptive') {\n    const { viewportWidth, viewportHeight } = bridge;\n\n    if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n      viewWidth = ViewWidth.DESKTOP;\n    } else if (viewportWidth >= BREAKPOINTS.TABLET) {\n      viewWidth = ViewWidth.TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n      viewWidth = ViewWidth.SMALL_TABLET;\n    } else if (viewportWidth >= BREAKPOINTS.MOBILE) {\n      viewWidth = ViewWidth.MOBILE;\n    } else {\n      viewWidth = ViewWidth.SMALL_MOBILE;\n    }\n\n    if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n      viewHeight = ViewHeight.MEDIUM;\n    } else if (viewportHeight > BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n      viewHeight = ViewHeight.SMALL;\n    } else {\n      viewHeight = ViewHeight.EXTRA_SMALL;\n    }\n\n    if (viewWidth <= ViewWidth.MOBILE) {\n      sizeX = SizeType.COMPACT;\n    } else {\n      sizeX = SizeType.REGULAR;\n    }\n\n    if (\n      (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer) ||\n      viewHeight <= ViewHeight.EXTRA_SMALL\n    ) {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else if (bridge.type === 'force_mobile' || bridge.type === 'force_mobile_compact') {\n    viewWidth = ViewWidth.MOBILE;\n    sizeX = SizeType.COMPACT;\n\n    if (bridge.type === 'force_mobile_compact') {\n      sizeY = SizeType.COMPACT;\n    } else {\n      sizeY = SizeType.REGULAR;\n    }\n  } else {\n    if (sizeX === undefined && viewWidth !== undefined) {\n      if (viewWidth <= ViewWidth.MOBILE) {\n        sizeX = SizeType.COMPACT;\n      } else {\n        sizeX = SizeType.REGULAR;\n      }\n    }\n    if (sizeY === undefined && viewWidth !== undefined && viewHeight !== undefined) {\n      if (\n        (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer) ||\n        viewHeight <= ViewHeight.EXTRA_SMALL\n      ) {\n        sizeY = SizeType.COMPACT;\n      } else {\n        sizeY = SizeType.REGULAR;\n      }\n    }\n  }\n\n  return {\n    viewWidth,\n    viewHeight,\n    sizeX,\n    sizeY,\n    hasPointer,\n    hasHover,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}