{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"header\", \"size\", \"onOpen\", \"onOpened\", \"onClose\", \"onClosed\", \"settlingHeight\", \"dynamicContentHeight\", \"getModalContentRef\", \"nav\", \"id\", \"hideCloseButton\", \"className\"];\nimport * as React from 'react';\nimport { getSizeXClassName } from '../../helpers/getSizeXClassName';\nimport { classNames } from '@vkontakte/vkjs';\nimport { Platform } from '../../lib/platform';\nimport { ModalRootContext, useModalRegistry } from '../ModalRoot/ModalRootContext';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useOrientationChange } from '../../hooks/useOrientationChange';\nimport { ModalDismissButton } from '../ModalDismissButton/ModalDismissButton';\nimport { multiRef } from '../../lib/utils';\nimport { ModalType } from '../ModalRoot/types';\nimport { getNavId } from '../../lib/getNavId';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nvar warn = warnOnce('ModalPage');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalPage\n */\nexport var ModalPage = function ModalPage(_ref) {\n  var children = _ref.children,\n    header = _ref.header,\n    _ref$size = _ref.size,\n    sizeProp = _ref$size === void 0 ? 's' : _ref$size,\n    onOpen = _ref.onOpen,\n    onOpened = _ref.onOpened,\n    onClose = _ref.onClose,\n    onClosed = _ref.onClosed,\n    settlingHeight = _ref.settlingHeight,\n    dynamicContentHeight = _ref.dynamicContentHeight,\n    getModalContentRef = _ref.getModalContentRef,\n    nav = _ref.nav,\n    id = _ref.id,\n    _ref$hideCloseButton = _ref.hideCloseButton,\n    hideCloseButton = _ref$hideCloseButton === void 0 ? false : _ref$hideCloseButton,\n    className = _ref.className,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  var _React$useContext = React.useContext(ModalRootContext),\n    updateModalHeight = _React$useContext.updateModalHeight;\n  var platform = usePlatform();\n  var orientation = useOrientationChange();\n  var _useAdaptivityWithJSM = useAdaptivityWithJSMediaQueries(),\n    sizeX = _useAdaptivityWithJSM.sizeX,\n    isDesktop = _useAdaptivityWithJSM.isDesktop;\n  React.useEffect(updateModalHeight, [children, orientation, updateModalHeight]);\n  var isCloseButtonShown = !hideCloseButton && isDesktop;\n  var size = isDesktop ? sizeProp : 's';\n  var modalContext = React.useContext(ModalRootContext);\n  var _useModalRegistry = useModalRegistry(getNavId({\n      nav: nav,\n      id: id\n    }, warn), ModalType.PAGE),\n    refs = _useModalRegistry.refs;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, restProps, {\n    id: id,\n    className: classNames(\"vkuiModalPage\", platform === Platform.IOS && \"vkuiModalPage--ios\", platform === Platform.VKCOM && \"vkuiModalPage--vkcom\", getSizeXClassName(\"vkuiModalPage\", sizeX), isDesktop && \"vkuiModalPage--desktop\", styles[\"ModalPage--size-\".concat(size)], className)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__in-wrap\",\n    ref: refs.innerElement\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__in\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__header\",\n    ref: refs.headerElement\n  }, header), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content-wrap\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content\",\n    ref: multiRef(refs.contentElement, getModalContentRef)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content-in\"\n  }, children))), isCloseButtonShown && /*#__PURE__*/React.createElement(ModalDismissButton, {\n    onClick: onClose || modalContext.onClose\n  }))));\n};\nvar styles = {\n  \"ModalPage--size-s\": \"vkuiModalPage--size-s\",\n  \"ModalPage--size-m\": \"vkuiModalPage--size-m\",\n  \"ModalPage--size-l\": \"vkuiModalPage--size-l\"\n};","map":{"version":3,"names":["React","getSizeXClassName","classNames","Platform","ModalRootContext","useModalRegistry","usePlatform","useOrientationChange","ModalDismissButton","multiRef","ModalType","getNavId","warnOnce","useAdaptivityWithJSMediaQueries","warn","ModalPage","_ref","children","header","_ref$size","size","sizeProp","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav","id","_ref$hideCloseButton","hideCloseButton","className","restProps","_objectWithoutProperties","_excluded","_React$useContext","useContext","updateModalHeight","platform","orientation","_useAdaptivityWithJSM","sizeX","isDesktop","useEffect","isCloseButtonShown","modalContext","_useModalRegistry","PAGE","refs","createElement","_extends","IOS","VKCOM","styles","concat","ref","innerElement","headerElement","contentElement","onClick"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\ModalPage\\ModalPage.tsx"],"sourcesContent":["import * as React from 'react';\nimport { getSizeXClassName } from '../../helpers/getSizeXClassName';\nimport { classNames } from '@vkontakte/vkjs';\nimport { Platform } from '../../lib/platform';\nimport { ModalRootContext, useModalRegistry } from '../ModalRoot/ModalRootContext';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useOrientationChange } from '../../hooks/useOrientationChange';\nimport { ModalDismissButton } from '../ModalDismissButton/ModalDismissButton';\nimport { multiRef } from '../../lib/utils';\nimport { ModalType } from '../ModalRoot/types';\nimport { getNavId, NavIdProps } from '../../lib/getNavId';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport styles from './ModalPage.module.css';\n\nexport interface ModalPageProps extends React.HTMLAttributes<HTMLDivElement>, NavIdProps {\n  /**\n   * Шапка модальной страницы, `<ModalPageHeader />`\n   */\n  header?: React.ReactNode;\n  /**\n   * Задаёт контенту максимальную ширину.\n   *\n   * > ⚠️ **Заметки:**\n   * > - Для `viewWidth < SMALL_TABLET_SIZE` будет всегда `\"s\"`\n   * > - Для `platform === VKCOM` максимальная ширина зашита, её не изменить.\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Будет вызвано при начале открытия модалки.\n   */\n  onOpen?: VoidFunction;\n  /**\n   * Будет вызвано при окончательном открытии модалки.\n   */\n  onOpened?: VoidFunction;\n  /**\n   * Будет вызвано при начале закрытия модалки.\n   */\n  onClose?: VoidFunction;\n  /**\n   * Будет вызвано при окончательном закрытии модалки.\n   */\n  onClosed?: VoidFunction;\n  /**\n   * Процент, на который изначально будет открыта модальная страница. При `settlingHeight={100}` модальная страница раскрывается на всю высоту.\n   */\n  settlingHeight?: number;\n  /**\n   * Если высота контента в модальной странице может поменяться, нужно установить это свойство\n   */\n  dynamicContentHeight?: boolean;\n  getModalContentRef?: React.Ref<HTMLDivElement>;\n  /**\n   * Скрывает кнопку закрытия (актуально для iOS, т.к. можно отрисовать кнопку закрытия внутри модалки)\n   */\n  hideCloseButton?: boolean;\n}\n\nconst warn = warnOnce('ModalPage');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalPage\n */\nexport const ModalPage = ({\n  children,\n  header,\n  size: sizeProp = 's',\n  onOpen,\n  onOpened,\n  onClose,\n  onClosed,\n  settlingHeight, // 75\n  dynamicContentHeight,\n  getModalContentRef,\n  nav,\n  id,\n  hideCloseButton = false,\n  className,\n  ...restProps\n}: ModalPageProps) => {\n  const { updateModalHeight } = React.useContext(ModalRootContext);\n\n  const platform = usePlatform();\n  const orientation = useOrientationChange();\n  const { sizeX, isDesktop } = useAdaptivityWithJSMediaQueries();\n\n  React.useEffect(updateModalHeight, [children, orientation, updateModalHeight]);\n\n  const isCloseButtonShown = !hideCloseButton && isDesktop;\n  const size = isDesktop ? sizeProp : 's';\n\n  const modalContext = React.useContext(ModalRootContext);\n  const { refs } = useModalRegistry(getNavId({ nav, id }, warn), ModalType.PAGE);\n\n  return (\n    <div\n      {...restProps}\n      id={id}\n      className={classNames(\n        styles['ModalPage'],\n        platform === Platform.IOS && styles['ModalPage--ios'],\n        platform === Platform.VKCOM && styles['ModalPage--vkcom'],\n        getSizeXClassName(styles['ModalPage'], sizeX),\n        isDesktop && styles['ModalPage--desktop'],\n        styles[`ModalPage--size-${size}`],\n        className,\n      )}\n    >\n      <div className={styles['ModalPage__in-wrap']} ref={refs.innerElement}>\n        <div className={styles['ModalPage__in']}>\n          <div className={styles['ModalPage__header']} ref={refs.headerElement}>\n            {header}\n          </div>\n\n          <div className={styles['ModalPage__content-wrap']}>\n            <div\n              className={styles['ModalPage__content']}\n              ref={multiRef<HTMLDivElement>(refs.contentElement, getModalContentRef)}\n            >\n              <div className={styles['ModalPage__content-in']}>{children}</div>\n            </div>\n          </div>\n          {isCloseButtonShown && <ModalDismissButton onClick={onClose || modalContext.onClose} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,iBAAiB,QAAQ,iCAAiC;AACnE,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,gBAAgB,EAAEC,gBAAgB,QAAQ,+BAA+B;AAClF,SAASC,WAAW,QAAQ,yBAAyB;AACrD,SAASC,oBAAoB,QAAQ,kCAAkC;AACvE,SAASC,kBAAkB,QAAQ,0CAA0C;AAC7E,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,QAAQ,QAAoB,oBAAoB;AACzD,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,+BAA+B,QAAQ,6CAA6C;AA+C7F,IAAMC,IAAI,GAAGF,QAAQ,CAAC,WAAW,CAAC;;AAElC;AACA;AACA;AACA,OAAO,IAAMG,SAAS,GAAG,SAAZA,SAASA,CAAAC,IAAA,EAgBA;EAAA,IAfpBC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IACRC,MAAM,GAAAF,IAAA,CAANE,MAAM;IAAAC,SAAA,GAAAH,IAAA,CACNI,IAAI;IAAEC,QAAQ,GAAAF,SAAA,cAAG,GAAG,GAAAA,SAAA;IACpBG,MAAM,GAAAN,IAAA,CAANM,MAAM;IACNC,QAAQ,GAAAP,IAAA,CAARO,QAAQ;IACRC,OAAO,GAAAR,IAAA,CAAPQ,OAAO;IACPC,QAAQ,GAAAT,IAAA,CAARS,QAAQ;IACRC,cAAc,GAAAV,IAAA,CAAdU,cAAc;IACdC,oBAAoB,GAAAX,IAAA,CAApBW,oBAAoB;IACpBC,kBAAkB,GAAAZ,IAAA,CAAlBY,kBAAkB;IAClBC,GAAG,GAAAb,IAAA,CAAHa,GAAG;IACHC,EAAE,GAAAd,IAAA,CAAFc,EAAE;IAAAC,oBAAA,GAAAf,IAAA,CACFgB,eAAe;IAAfA,eAAe,GAAAD,oBAAA,cAAG,KAAK,GAAAA,oBAAA;IACvBE,SAAS,GAAAjB,IAAA,CAATiB,SAAS;IACNC,SAAS,GAAAC,wBAAA,CAAAnB,IAAA,EAAAoB,SAAA;EAEZ,IAAAC,iBAAA,GAA8BrC,KAAK,CAACsC,UAAU,CAAClC,gBAAgB,CAAC;IAAxDmC,iBAAiB,GAAAF,iBAAA,CAAjBE,iBAAiB;EAEzB,IAAMC,QAAQ,GAAGlC,WAAW,EAAE;EAC9B,IAAMmC,WAAW,GAAGlC,oBAAoB,EAAE;EAC1C,IAAAmC,qBAAA,GAA6B7B,+BAA+B,EAAE;IAAtD8B,KAAK,GAAAD,qBAAA,CAALC,KAAK;IAAEC,SAAS,GAAAF,qBAAA,CAATE,SAAS;EAExB5C,KAAK,CAAC6C,SAAS,CAACN,iBAAiB,EAAE,CAACtB,QAAQ,EAAEwB,WAAW,EAAEF,iBAAiB,CAAC,CAAC;EAE9E,IAAMO,kBAAkB,GAAG,CAACd,eAAe,IAAIY,SAAS;EACxD,IAAMxB,IAAI,GAAGwB,SAAS,GAAGvB,QAAQ,GAAG,GAAG;EAEvC,IAAM0B,YAAY,GAAG/C,KAAK,CAACsC,UAAU,CAAClC,gBAAgB,CAAC;EACvD,IAAA4C,iBAAA,GAAiB3C,gBAAgB,CAACM,QAAQ,CAAC;MAAEkB,GAAG,EAAHA,GAAG;MAAEC,EAAE,EAAFA;IAAG,CAAC,EAAEhB,IAAI,CAAC,EAAEJ,SAAS,CAACuC,IAAI,CAAC;IAAtEC,IAAI,GAAAF,iBAAA,CAAJE,IAAI;EAEZ,oBACElD,KAAA,CAAAmD,aAAA,QAAAC,QAAA,KACMlB,SAAS;IACbJ,EAAE,EAAEA,EAAG;IACPG,SAAS,EAAE/B,UAAU,kBAEnBsC,QAAQ,KAAKrC,QAAQ,CAACkD,GAAG,wBAA4B,EACrDb,QAAQ,KAAKrC,QAAQ,CAACmD,KAAK,0BAA8B,EACzDrD,iBAAiB,kBAAsB0C,KAAK,CAAC,EAC7CC,SAAS,4BAAgC,EACzCW,MAAM,oBAAAC,MAAA,CAAoBpC,IAAI,EAAG,EACjCa,SAAS;EACT,iBAEFjC,KAAA,CAAAmD,aAAA;IAAKlB,SAAS,0BAA+B;IAACwB,GAAG,EAAEP,IAAI,CAACQ;EAAa,gBACnE1D,KAAA,CAAAmD,aAAA;IAAKlB,SAAS;EAA0B,gBACtCjC,KAAA,CAAAmD,aAAA;IAAKlB,SAAS,yBAA8B;IAACwB,GAAG,EAAEP,IAAI,CAACS;EAAc,GAClEzC,MAAM,CACH,eAENlB,KAAA,CAAAmD,aAAA;IAAKlB,SAAS;EAAoC,gBAChDjC,KAAA,CAAAmD,aAAA;IACElB,SAAS,0BAA+B;IACxCwB,GAAG,EAAEhD,QAAQ,CAAiByC,IAAI,CAACU,cAAc,EAAEhC,kBAAkB;EAAE,gBAEvE5B,KAAA,CAAAmD,aAAA;IAAKlB,SAAS;EAAkC,GAAEhB,QAAQ,CAAO,CAC7D,CACF,EACL6B,kBAAkB,iBAAI9C,KAAA,CAAAmD,aAAA,CAAC3C,kBAAkB;IAACqD,OAAO,EAAErC,OAAO,IAAIuB,YAAY,CAACvB;EAAQ,EAAG,CACnF,CACF,CACF;AAEV,CAAC;AAAC,IAAA+B,MAAA;EAAA;EAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}