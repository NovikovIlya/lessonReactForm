{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { clamp } from '../../helpers/math';\nimport { useDOM } from '../../lib/dom';\nvar clearDisableScrollStyle = function clearDisableScrollStyle(node) {\n  Object.assign(node.style, {\n    position: '',\n    top: '',\n    left: '',\n    right: '',\n    overflowY: '',\n    overflowX: ''\n  });\n};\nvar getPageYOffsetWithoutKeyboardHeight = function getPageYOffsetWithoutKeyboardHeight(window) {\n  // Note: здесь расчёт на то, что `clientHeight` равен `window.innerHeight`.\n  //  Это достигается тем, что тегу `html` задали`height: 100%` и у него нет отступов сверху и снизу. Если есть отступы,\n  //  то надо задать `box-sizing: border-box`, чтобы они не учитывались.\n  var diffOfClientHeightAndViewportHeight = window.document.documentElement.clientHeight - window.innerHeight;\n  return window.pageYOffset - diffOfClientHeightAndViewportHeight;\n};\nexport var ScrollContext = /*#__PURE__*/React.createContext({\n  getScroll: function getScroll() {\n    return {\n      x: 0,\n      y: 0\n    };\n  },\n  scrollTo: noop,\n  isScrollLock: false,\n  enableScrollLock: noop,\n  disableScrollLock: noop\n});\nexport var useScroll = function useScroll() {\n  return React.useContext(ScrollContext);\n};\nexport var GlobalScrollController = function GlobalScrollController(_ref) {\n  var children = _ref.children;\n  var _useDOM = useDOM(),\n    window = _useDOM.window,\n    document = _useDOM.document;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isScrollLock = _React$useState2[0],\n    setScrollLock = _React$useState2[1];\n  var beforeScrollLockFnSetRef = React.useRef(new Set());\n  var getScroll = React.useCallback(function () {\n    return {\n      x: window.pageXOffset,\n      y: getPageYOffsetWithoutKeyboardHeight(window)\n    };\n  }, [window]);\n  var scrollTo = React.useCallback(function () {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    // Some iOS versions do not normalize scroll — do it manually.\n    window.scrollTo(x ? clamp(x, 0, document.body.scrollWidth - window.innerWidth) : 0, y ? clamp(y, 0, document.body.scrollHeight - window.innerHeight) : 0);\n  }, [document, window]);\n  var enableScrollLock = React.useCallback(function () {\n    beforeScrollLockFnSetRef.current.forEach(function (fn) {\n      fn();\n    });\n    var scrollY = window.pageYOffset;\n    var scrollX = window.pageXOffset;\n    var overflowY = window.innerWidth > document.documentElement.clientWidth ? 'scroll' : '';\n    var overflowX = window.innerHeight > document.documentElement.clientHeight ? 'scroll' : '';\n    Object.assign(document.body.style, {\n      position: 'fixed',\n      top: \"-\".concat(scrollY, \"px\"),\n      left: \"-\".concat(scrollX, \"px\"),\n      right: '0',\n      overflowY: overflowY,\n      overflowX: overflowX\n    });\n    setScrollLock(true);\n  }, [document, window]);\n  var disableScrollLock = React.useCallback(function () {\n    var scrollY = document.body.style.top;\n    var scrollX = document.body.style.left;\n    clearDisableScrollStyle(document.body);\n    window.scrollTo(-parseInt(scrollX || '0'), -parseInt(scrollY || '0'));\n    setScrollLock(false);\n  }, [document, window]);\n  var scrollController = React.useMemo(function () {\n    return {\n      getScroll: getScroll,\n      scrollTo: scrollTo,\n      isScrollLock: isScrollLock,\n      disableScrollLock: disableScrollLock,\n      enableScrollLock: enableScrollLock,\n      beforeScrollLockFnSetRef: beforeScrollLockFnSetRef\n    };\n  }, [getScroll, scrollTo, isScrollLock, disableScrollLock, enableScrollLock]);\n  return /*#__PURE__*/React.createElement(ScrollContext.Provider, {\n    value: scrollController\n  }, children);\n};\nexport var ElementScrollController = function ElementScrollController(_ref2) {\n  var elRef = _ref2.elRef,\n    children = _ref2.children;\n  var _React$useState3 = React.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    isScrollLock = _React$useState4[0],\n    setScrollLock = _React$useState4[1];\n  var beforeScrollLockFnSetRef = React.useRef(new Set());\n  var getScroll = React.useCallback(function () {\n    var _elRef$current$scroll, _elRef$current, _elRef$current$scroll2, _elRef$current2;\n    return {\n      x: (_elRef$current$scroll = (_elRef$current = elRef.current) === null || _elRef$current === void 0 ? void 0 : _elRef$current.scrollLeft) !== null && _elRef$current$scroll !== void 0 ? _elRef$current$scroll : 0,\n      y: (_elRef$current$scroll2 = (_elRef$current2 = elRef.current) === null || _elRef$current2 === void 0 ? void 0 : _elRef$current2.scrollTop) !== null && _elRef$current$scroll2 !== void 0 ? _elRef$current$scroll2 : 0\n    };\n  }, [elRef]);\n  var scrollTo = React.useCallback(function () {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var el = elRef.current;\n    // Some iOS versions do not normalize scroll — do it manually.\n    el === null || el === void 0 ? void 0 : el.scrollTo(x ? clamp(x, 0, el.scrollWidth - el.clientWidth) : 0, y ? clamp(y, 0, el.scrollHeight - el.clientHeight) : 0);\n  }, [elRef]);\n  var enableScrollLock = React.useCallback(function () {\n    var el = elRef.current;\n    if (!el) {\n      return;\n    }\n    beforeScrollLockFnSetRef.current.forEach(function (fn) {\n      fn();\n    });\n    var scrollY = el.scrollTop;\n    var scrollX = el.scrollLeft;\n    var overflowY = el.scrollWidth > el.clientWidth ? 'scroll' : '';\n    var overflowX = el.scrollHeight > el.clientHeight ? 'scroll' : '';\n    Object.assign(el.style, {\n      position: 'absolute',\n      top: \"-\".concat(scrollY, \"px\"),\n      left: \"-\".concat(scrollX, \"px\"),\n      right: '0',\n      overflowY: overflowY,\n      overflowX: overflowX\n    });\n    setScrollLock(true);\n  }, [elRef]);\n  var disableScrollLock = React.useCallback(function () {\n    var el = elRef.current;\n    if (!el) {\n      return;\n    }\n    var scrollY = el.style.top;\n    var scrollX = el.style.left;\n    clearDisableScrollStyle(el);\n    el.scrollTo(-parseInt(scrollX || '0'), -parseInt(scrollY || '0'));\n    setScrollLock(false);\n  }, [elRef]);\n  var scrollController = React.useMemo(function () {\n    return {\n      getScroll: getScroll,\n      scrollTo: scrollTo,\n      isScrollLock: isScrollLock,\n      disableScrollLock: disableScrollLock,\n      enableScrollLock: enableScrollLock,\n      beforeScrollLockFnSetRef: beforeScrollLockFnSetRef\n    };\n  }, [getScroll, scrollTo, isScrollLock, disableScrollLock, enableScrollLock]);\n  return /*#__PURE__*/React.createElement(ScrollContext.Provider, {\n    value: scrollController\n  }, children);\n};\n\n/**\n * Вызывает функцию effect, до блокировки прокрутки\n * @param effect функция, которая может возвращать функцию очистки\n * @param deps effect обновится только при изменении значений в списке.\n */\nexport var useScrollLockEffect = function useScrollLockEffect(effect, deps) {\n  var destructorRef = React.useRef(noop);\n  var _useScroll = useScroll(),\n    isScrollLock = _useScroll.isScrollLock,\n    beforeScrollLockFnSetRef = _useScroll.beforeScrollLockFnSetRef;\n\n  // Изменяем effectCallback только при изменении deps\n  var effectCallback = React.useCallback(function () {\n    destructorRef.current = effect();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n\n  // Добавляем effectCallback в список функций, которые необходимо вызвать\n  // до блокировки\n  React.useEffect(function () {\n    var beforeSet = beforeScrollLockFnSetRef === null || beforeScrollLockFnSetRef === void 0 ? void 0 : beforeScrollLockFnSetRef.current;\n    if (!beforeSet) {\n      return noop;\n    }\n    beforeSet.add(effectCallback);\n    return function () {\n      beforeSet.delete(effectCallback);\n    };\n  }, [beforeScrollLockFnSetRef, effectCallback]);\n\n  // Вызываем сбрасывающую функцию, после отключения блокировки\n  React.useEffect(function () {\n    if (!isScrollLock && destructorRef.current) {\n      destructorRef.current();\n    }\n  }, [isScrollLock]);\n};\nexport var useScrollLock = function useScrollLock() {\n  var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var _useScroll2 = useScroll(),\n    enableScrollLock = _useScroll2.enableScrollLock,\n    disableScrollLock = _useScroll2.disableScrollLock;\n  useIsomorphicLayoutEffect(function () {\n    if (enabled) {\n      enableScrollLock();\n      return disableScrollLock;\n    }\n    return noop;\n  }, [enableScrollLock, disableScrollLock, enabled]);\n};","map":{"version":3,"names":["React","noop","useIsomorphicLayoutEffect","clamp","useDOM","clearDisableScrollStyle","node","Object","assign","style","position","top","left","right","overflowY","overflowX","getPageYOffsetWithoutKeyboardHeight","window","diffOfClientHeightAndViewportHeight","document","documentElement","clientHeight","innerHeight","pageYOffset","ScrollContext","createContext","getScroll","x","y","scrollTo","isScrollLock","enableScrollLock","disableScrollLock","useScroll","useContext","GlobalScrollController","_ref","children","_useDOM","_React$useState","useState","_React$useState2","_slicedToArray","setScrollLock","beforeScrollLockFnSetRef","useRef","Set","useCallback","pageXOffset","arguments","length","undefined","body","scrollWidth","innerWidth","scrollHeight","current","forEach","fn","scrollY","scrollX","clientWidth","concat","parseInt","scrollController","useMemo","createElement","Provider","value","ElementScrollController","_ref2","elRef","_React$useState3","_React$useState4","_elRef$current$scroll","_elRef$current","_elRef$current$scroll2","_elRef$current2","scrollLeft","scrollTop","el","useScrollLockEffect","effect","deps","destructorRef","_useScroll","effectCallback","useEffect","beforeSet","add","delete","useScrollLock","enabled","_useScroll2"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\AppRoot\\ScrollContext.tsx"],"sourcesContent":["import * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { clamp } from '../../helpers/math';\nimport { useDOM } from '../../lib/dom';\n\nconst clearDisableScrollStyle = (node: HTMLElement) => {\n  Object.assign(node.style, {\n    position: '',\n    top: '',\n    left: '',\n    right: '',\n    overflowY: '',\n    overflowX: '',\n  });\n};\n\nconst getPageYOffsetWithoutKeyboardHeight = (window: Window) => {\n  // Note: здесь расчёт на то, что `clientHeight` равен `window.innerHeight`.\n  //  Это достигается тем, что тегу `html` задали`height: 100%` и у него нет отступов сверху и снизу. Если есть отступы,\n  //  то надо задать `box-sizing: border-box`, чтобы они не учитывались.\n  const diffOfClientHeightAndViewportHeight =\n    window.document.documentElement.clientHeight - window.innerHeight;\n  return window.pageYOffset - diffOfClientHeightAndViewportHeight;\n};\n\nexport interface ScrollContextInterface {\n  getScroll(this: void): { x: number; y: number };\n  scrollTo(this: void, x?: number, y?: number): void;\n  isScrollLock: boolean;\n  enableScrollLock(this: void): void;\n  disableScrollLock(this: void): void;\n  beforeScrollLockFnSetRef?: React.RefObject<Set<() => void>>;\n}\n\nexport const ScrollContext = React.createContext<ScrollContextInterface>({\n  getScroll: () => ({ x: 0, y: 0 }),\n  scrollTo: noop,\n  isScrollLock: false,\n  enableScrollLock: noop,\n  disableScrollLock: noop,\n});\n\nexport const useScroll = () => React.useContext(ScrollContext);\n\nexport interface ScrollControllerProps {\n  elRef: React.RefObject<HTMLElement>;\n  children?: React.ReactNode;\n}\n\nexport const GlobalScrollController = ({ children }: ScrollControllerProps) => {\n  const { window, document } = useDOM();\n  const [isScrollLock, setScrollLock] = React.useState(false);\n  const beforeScrollLockFnSetRef = React.useRef<Set<() => void>>(new Set());\n\n  const getScroll = React.useCallback<ScrollContextInterface['getScroll']>(\n    () => ({\n      x: window!.pageXOffset,\n      y: getPageYOffsetWithoutKeyboardHeight(window!),\n    }),\n    [window],\n  );\n  const scrollTo = React.useCallback<ScrollContextInterface['scrollTo']>(\n    (x = 0, y = 0) => {\n      // Some iOS versions do not normalize scroll — do it manually.\n      window!.scrollTo(\n        x ? clamp(x, 0, document!.body.scrollWidth - window!.innerWidth) : 0,\n        y ? clamp(y, 0, document!.body.scrollHeight - window!.innerHeight) : 0,\n      );\n    },\n    [document, window],\n  );\n\n  const enableScrollLock = React.useCallback<ScrollContextInterface['enableScrollLock']>(() => {\n    beforeScrollLockFnSetRef.current.forEach((fn) => {\n      fn();\n    });\n\n    const scrollY = window!.pageYOffset;\n    const scrollX = window!.pageXOffset;\n    const overflowY = window!.innerWidth > document!.documentElement.clientWidth ? 'scroll' : '';\n    const overflowX = window!.innerHeight > document!.documentElement.clientHeight ? 'scroll' : '';\n\n    Object.assign(document!.body.style, {\n      position: 'fixed',\n      top: `-${scrollY}px`,\n      left: `-${scrollX}px`,\n      right: '0',\n      overflowY,\n      overflowX,\n    });\n    setScrollLock(true);\n  }, [document, window]);\n\n  const disableScrollLock = React.useCallback<ScrollContextInterface['disableScrollLock']>(() => {\n    const scrollY = document!.body.style.top;\n    const scrollX = document!.body.style.left;\n\n    clearDisableScrollStyle(document!.body);\n    window!.scrollTo(-parseInt(scrollX || '0'), -parseInt(scrollY || '0'));\n    setScrollLock(false);\n  }, [document, window]);\n\n  const scrollController = React.useMemo<ScrollContextInterface>(\n    () => ({\n      getScroll,\n      scrollTo,\n      isScrollLock,\n      disableScrollLock,\n      enableScrollLock,\n\n      beforeScrollLockFnSetRef: beforeScrollLockFnSetRef,\n    }),\n    [getScroll, scrollTo, isScrollLock, disableScrollLock, enableScrollLock],\n  );\n\n  return <ScrollContext.Provider value={scrollController}>{children}</ScrollContext.Provider>;\n};\n\nexport const ElementScrollController = ({ elRef, children }: ScrollControllerProps) => {\n  const [isScrollLock, setScrollLock] = React.useState(false);\n  const beforeScrollLockFnSetRef = React.useRef<Set<() => void>>(new Set());\n\n  const getScroll = React.useCallback<ScrollContextInterface['getScroll']>(\n    () => ({\n      x: elRef.current?.scrollLeft ?? 0,\n      y: elRef.current?.scrollTop ?? 0,\n    }),\n    [elRef],\n  );\n  const scrollTo = React.useCallback<ScrollContextInterface['scrollTo']>(\n    (x = 0, y = 0) => {\n      const el = elRef.current;\n      // Some iOS versions do not normalize scroll — do it manually.\n      el?.scrollTo(\n        x ? clamp(x, 0, el.scrollWidth - el.clientWidth) : 0,\n        y ? clamp(y, 0, el.scrollHeight - el.clientHeight) : 0,\n      );\n    },\n    [elRef],\n  );\n\n  const enableScrollLock = React.useCallback<ScrollContextInterface['enableScrollLock']>(() => {\n    const el = elRef.current;\n    if (!el) {\n      return;\n    }\n    beforeScrollLockFnSetRef.current.forEach((fn) => {\n      fn();\n    });\n\n    const scrollY = el.scrollTop;\n    const scrollX = el.scrollLeft;\n    const overflowY = el.scrollWidth > el.clientWidth ? 'scroll' : '';\n    const overflowX = el.scrollHeight > el.clientHeight ? 'scroll' : '';\n\n    Object.assign(el.style, {\n      position: 'absolute',\n      top: `-${scrollY}px`,\n      left: `-${scrollX}px`,\n      right: '0',\n      overflowY,\n      overflowX,\n    });\n    setScrollLock(true);\n  }, [elRef]);\n\n  const disableScrollLock = React.useCallback<ScrollContextInterface['disableScrollLock']>(() => {\n    const el = elRef.current;\n    if (!el) {\n      return;\n    }\n\n    const scrollY = el.style.top;\n    const scrollX = el.style.left;\n\n    clearDisableScrollStyle(el);\n    el.scrollTo(-parseInt(scrollX || '0'), -parseInt(scrollY || '0'));\n    setScrollLock(false);\n  }, [elRef]);\n\n  const scrollController = React.useMemo<ScrollContextInterface>(\n    () => ({\n      getScroll,\n      scrollTo,\n      isScrollLock,\n      disableScrollLock,\n      enableScrollLock,\n      beforeScrollLockFnSetRef,\n    }),\n    [getScroll, scrollTo, isScrollLock, disableScrollLock, enableScrollLock],\n  );\n\n  return <ScrollContext.Provider value={scrollController}>{children}</ScrollContext.Provider>;\n};\n\n/**\n * Вызывает функцию effect, до блокировки прокрутки\n * @param effect функция, которая может возвращать функцию очистки\n * @param deps effect обновится только при изменении значений в списке.\n */\nexport const useScrollLockEffect = (effect: React.EffectCallback, deps: React.DependencyList) => {\n  const destructorRef = React.useRef<ReturnType<React.EffectCallback>>(noop);\n  const { isScrollLock, beforeScrollLockFnSetRef } = useScroll();\n\n  // Изменяем effectCallback только при изменении deps\n  const effectCallback = React.useCallback(() => {\n    destructorRef.current = effect();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n\n  // Добавляем effectCallback в список функций, которые необходимо вызвать\n  // до блокировки\n  React.useEffect(() => {\n    const beforeSet = beforeScrollLockFnSetRef?.current;\n    if (!beforeSet) {\n      return noop;\n    }\n\n    beforeSet.add(effectCallback);\n\n    return () => {\n      beforeSet.delete(effectCallback);\n    };\n  }, [beforeScrollLockFnSetRef, effectCallback]);\n\n  // Вызываем сбрасывающую функцию, после отключения блокировки\n  React.useEffect(() => {\n    if (!isScrollLock && destructorRef.current) {\n      destructorRef.current();\n    }\n  }, [isScrollLock]);\n};\n\nexport const useScrollLock = (enabled = true) => {\n  const { enableScrollLock, disableScrollLock } = useScroll();\n  useIsomorphicLayoutEffect(() => {\n    if (enabled) {\n      enableScrollLock();\n      return disableScrollLock;\n    }\n    return noop;\n  }, [enableScrollLock, disableScrollLock, enabled]);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}