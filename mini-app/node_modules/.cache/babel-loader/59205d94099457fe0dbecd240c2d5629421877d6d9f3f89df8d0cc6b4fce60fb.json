{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"style\", \"defaultValue\", \"align\", \"placeholder\", \"children\", \"className\", \"getRef\", \"getRootRef\", \"disabled\", \"multiline\", \"selectType\", \"status\", \"onChange\", \"value\"];\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { DropdownIcon } from '../DropdownIcon/DropdownIcon';\nimport { FormField } from '../FormField/FormField';\nimport { getPlatformClassName } from '../../helpers/getPlatformClassName';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { useEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { getSizeXClassName } from '../../helpers/getSizeXClassName';\nimport { getSizeYClassName } from '../../helpers/getSizeYClassName';\nimport { SelectTypography } from '../Select/Select';\n/**\n * @see https://vkcom.github.io/VKUI/#/NativeSelect\n */\nvar NativeSelect = function NativeSelect(_ref) {\n  var style = _ref.style,\n    _ref$defaultValue = _ref.defaultValue,\n    defaultValue = _ref$defaultValue === void 0 ? '' : _ref$defaultValue,\n    align = _ref.align,\n    placeholder = _ref.placeholder,\n    children = _ref.children,\n    className = _ref.className,\n    getRef = _ref.getRef,\n    getRootRef = _ref.getRootRef,\n    disabled = _ref.disabled,\n    multiline = _ref.multiline,\n    _ref$selectType = _ref.selectType,\n    selectType = _ref$selectType === void 0 ? 'default' : _ref$selectType,\n    status = _ref.status,\n    onChangeProp = _ref.onChange,\n    valueProp = _ref.value,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  var platform = usePlatform();\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    title = _React$useState2[0],\n    setTitle = _React$useState2[1];\n  var _React$useState3 = React.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    empty = _React$useState4[0],\n    setEmpty = _React$useState4[1];\n  var _useEnsuredControl = useEnsuredControl({\n      defaultValue: defaultValue,\n      disabled: disabled,\n      onChange: onChangeProp,\n      value: valueProp\n    }),\n    _useEnsuredControl2 = _slicedToArray(_useEnsuredControl, 2),\n    value = _useEnsuredControl2[0],\n    onChange = _useEnsuredControl2[1];\n  var selectRef = useExternRef(getRef);\n  var _useAdaptivity = useAdaptivity(),\n    sizeX = _useAdaptivity.sizeX,\n    sizeY = _useAdaptivity.sizeY;\n  useIsomorphicLayoutEffect(function () {\n    var _selectRef$current;\n    var selectedOption = (_selectRef$current = selectRef.current) === null || _selectRef$current === void 0 ? void 0 : _selectRef$current.options[selectRef.current.selectedIndex];\n    if (selectedOption) {\n      setTitle(selectedOption.text);\n      setEmpty(selectedOption.value === '' && placeholder != null);\n    }\n  }, [value, children]);\n  return /*#__PURE__*/React.createElement(FormField, {\n    Component: \"label\",\n    className: classNames(\"vkuiSelect\", getPlatformClassName(\"vkuiSelect\", platform), empty && \"vkuiSelect--empty\", multiline && \"vkuiSelect--multiline\", align && styles[\"Select--align-\".concat(align)], getSizeXClassName(\"vkuiSelect\", sizeX), getSizeYClassName(\"vkuiSelect\", sizeY), className),\n    style: style,\n    getRootRef: getRootRef,\n    disabled: disabled,\n    after: /*#__PURE__*/React.createElement(DropdownIcon, null),\n    status: status\n  }, /*#__PURE__*/React.createElement(\"select\", _extends({}, restProps, {\n    disabled: disabled,\n    className: \"vkuiSelect__el\",\n    onChange: onChange,\n    value: value,\n    ref: selectRef\n  }), placeholder && /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\"\n  }, placeholder), children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiSelect__container\"\n  }, /*#__PURE__*/React.createElement(SelectTypography, {\n    className: \"vkuiSelect__title\",\n    selectType: selectType\n  }, title)));\n};\nexport { NativeSelect };\nvar styles = {\n  \"Select--align-right\": \"vkuiSelect--align-right\",\n  \"Select--align-center\": \"vkuiSelect--align-center\",\n  \"Select--align-left\": \"vkuiSelect--align-left\"\n};","map":{"version":3,"names":["React","classNames","DropdownIcon","FormField","getPlatformClassName","useIsomorphicLayoutEffect","useEnsuredControl","useExternRef","usePlatform","useAdaptivity","getSizeXClassName","getSizeYClassName","SelectTypography","NativeSelect","_ref","style","_ref$defaultValue","defaultValue","align","placeholder","children","className","getRef","getRootRef","disabled","multiline","_ref$selectType","selectType","status","onChangeProp","onChange","valueProp","value","restProps","_objectWithoutProperties","_excluded","platform","_React$useState","useState","_React$useState2","_slicedToArray","title","setTitle","_React$useState3","_React$useState4","empty","setEmpty","_useEnsuredControl","_useEnsuredControl2","selectRef","_useAdaptivity","sizeX","sizeY","_selectRef$current","selectedOption","current","options","selectedIndex","text","createElement","Component","styles","concat","after","_extends","ref"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\NativeSelect\\NativeSelect.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { DropdownIcon } from '../DropdownIcon/DropdownIcon';\nimport { FormField, FormFieldProps } from '../FormField/FormField';\nimport { HasAlign, HasRef, HasRootRef } from '../../types';\nimport { getPlatformClassName } from '../../helpers/getPlatformClassName';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { useEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { getSizeXClassName } from '../../helpers/getSizeXClassName';\nimport { getSizeYClassName } from '../../helpers/getSizeYClassName';\nimport { SelectType, SelectTypography } from '../Select/Select';\nimport styles from '../Select/Select.module.css';\n\nexport interface NativeSelectProps\n  extends React.SelectHTMLAttributes<HTMLSelectElement>,\n    HasRef<HTMLSelectElement>,\n    HasRootRef<HTMLLabelElement>,\n    HasAlign,\n    Pick<FormFieldProps, 'status'> {\n  placeholder?: string;\n  multiline?: boolean;\n  selectType?: SelectType;\n}\n\nexport interface SelectState {\n  value?: React.SelectHTMLAttributes<HTMLSelectElement>['value'];\n  title?: string;\n  notSelected?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/NativeSelect\n */\nconst NativeSelect = ({\n  style,\n  defaultValue = '',\n  align,\n  placeholder,\n  children,\n  className,\n  getRef,\n  getRootRef,\n  disabled,\n  multiline,\n  selectType = 'default',\n  status,\n  onChange: onChangeProp,\n  value: valueProp,\n  ...restProps\n}: NativeSelectProps) => {\n  const platform = usePlatform();\n  const [title, setTitle] = React.useState('');\n  const [empty, setEmpty] = React.useState(false);\n  const [value, onChange] = useEnsuredControl({\n    defaultValue,\n    disabled,\n    onChange: onChangeProp,\n    value: valueProp,\n  });\n  const selectRef = useExternRef(getRef);\n  const { sizeX, sizeY } = useAdaptivity();\n\n  useIsomorphicLayoutEffect(() => {\n    const selectedOption = selectRef.current?.options[selectRef.current.selectedIndex];\n    if (selectedOption) {\n      setTitle(selectedOption.text);\n      setEmpty(selectedOption.value === '' && placeholder != null);\n    }\n  }, [value, children]);\n\n  return (\n    <FormField\n      Component=\"label\"\n      className={classNames(\n        styles['Select'],\n        getPlatformClassName(styles['Select'], platform),\n        empty && styles['Select--empty'],\n        multiline && styles['Select--multiline'],\n        align && styles[`Select--align-${align}`],\n        getSizeXClassName(styles['Select'], sizeX),\n        getSizeYClassName(styles['Select'], sizeY),\n        className,\n      )}\n      style={style}\n      getRootRef={getRootRef}\n      disabled={disabled}\n      after={<DropdownIcon />}\n      status={status}\n    >\n      <select\n        {...restProps}\n        disabled={disabled}\n        className={styles['Select__el']}\n        onChange={onChange}\n        value={value}\n        ref={selectRef}\n      >\n        {placeholder && <option value=\"\">{placeholder}</option>}\n        {children}\n      </select>\n      <div className={styles['Select__container']}>\n        <SelectTypography className={styles['Select__title']} selectType={selectType}>\n          {title}\n        </SelectTypography>\n      </div>\n    </FormField>\n  );\n};\n\nexport { NativeSelect };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}