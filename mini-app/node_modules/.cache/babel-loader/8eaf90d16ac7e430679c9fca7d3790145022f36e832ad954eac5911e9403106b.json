{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"onChange\", \"disabled\"];\nimport * as React from 'react';\nexport function useEnsuredControl(_ref) {\n  var onChangeProp = _ref.onChange,\n    disabled = _ref.disabled,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useCustomEnsuredCont = useCustomEnsuredControl(props),\n    _useCustomEnsuredCont2 = _slicedToArray(_useCustomEnsuredCont, 2),\n    value = _useCustomEnsuredCont2[0],\n    onChangeValue = _useCustomEnsuredCont2[1];\n  var onChange = React.useCallback(function (e) {\n    if (disabled) {\n      return;\n    }\n    onChangeValue(e.target.value);\n    onChangeProp && onChangeProp(e);\n  }, [onChangeValue, onChangeProp, disabled]);\n  return [value, onChange];\n}\nexport function useCustomEnsuredControl(_ref2) {\n  var disabled = _ref2.disabled,\n    onChangeProp = _ref2.onChange,\n    defaultValue = _ref2.defaultValue,\n    value = _ref2.value;\n  var isControlled = value !== undefined;\n  var _React$useState = React.useState(defaultValue),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    localValue = _React$useState2[0],\n    setLocalValue = _React$useState2[1];\n  var onChange = React.useCallback(function (v) {\n    if (disabled) {\n      return;\n    }\n    !isControlled && setLocalValue(v);\n    onChangeProp && onChangeProp(v);\n  }, [disabled, isControlled, onChangeProp]);\n  return [isControlled ? value : localValue, onChange];\n}","map":{"version":3,"names":["React","useEnsuredControl","_ref","onChangeProp","onChange","disabled","props","_objectWithoutProperties","_excluded","_useCustomEnsuredCont","useCustomEnsuredControl","_useCustomEnsuredCont2","_slicedToArray","value","onChangeValue","useCallback","e","target","_ref2","defaultValue","isControlled","undefined","_React$useState","useState","_React$useState2","localValue","setLocalValue","v"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\hooks\\useEnsuredControl.ts"],"sourcesContent":["import * as React from 'react';\n\ninterface UseEnsuredControlProps<V, E extends React.ChangeEvent<any>> {\n  value?: V;\n  onChange?: (e: E) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useEnsuredControl<V, E extends React.ChangeEvent<any>>({\n  onChange: onChangeProp,\n  disabled,\n  ...props\n}: UseEnsuredControlProps<V, E>): [V | undefined, (e: E) => any] {\n  const [value, onChangeValue] = useCustomEnsuredControl(props);\n\n  const onChange = React.useCallback(\n    (e: E) => {\n      if (disabled) {\n        return;\n      }\n\n      onChangeValue(e.target.value);\n      onChangeProp && onChangeProp(e);\n    },\n    [onChangeValue, onChangeProp, disabled],\n  );\n\n  return [value, onChange];\n}\n\ninterface UseCustomEnsuredControlProps<V> {\n  value?: V;\n  onChange?: (v: V) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useCustomEnsuredControl<V>({\n  disabled,\n  onChange: onChangeProp,\n  defaultValue,\n  value,\n}: UseCustomEnsuredControlProps<V>): [V | undefined, (e: V) => any] {\n  const isControlled = value !== undefined;\n  const [localValue, setLocalValue] = React.useState(defaultValue);\n\n  const onChange = React.useCallback(\n    (v: V) => {\n      if (disabled) {\n        return;\n      }\n\n      !isControlled && setLocalValue(v);\n      onChangeProp && onChangeProp(v);\n    },\n    [disabled, isControlled, onChangeProp],\n  );\n\n  return [isControlled ? value : localValue, onChange];\n}\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAS9B,OAAO,SAASC,iBAAiBA,CAAAC,IAAA,EAIgC;EAAA,IAHrDC,YAAY,GAAAD,IAAA,CAAtBE,QAAQ;IACRC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IACLC,KAAK,GAAAC,wBAAA,CAAAL,IAAA,EAAAM,SAAA;EAER,IAAAC,qBAAA,GAA+BC,uBAAuB,CAACJ,KAAK,CAAC;IAAAK,sBAAA,GAAAC,cAAA,CAAAH,qBAAA;IAAtDI,KAAK,GAAAF,sBAAA;IAAEG,aAAa,GAAAH,sBAAA;EAE3B,IAAMP,QAAQ,GAAGJ,KAAK,CAACe,WAAW,CAChC,UAACC,CAAI,EAAK;IACR,IAAIX,QAAQ,EAAE;MACZ;IACF;IAEAS,aAAa,CAACE,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC;IAC7BV,YAAY,IAAIA,YAAY,CAACa,CAAC,CAAC;EACjC,CAAC,EACD,CAACF,aAAa,EAAEX,YAAY,EAAEE,QAAQ,CAAC,CACxC;EAED,OAAO,CAACQ,KAAK,EAAET,QAAQ,CAAC;AAC1B;AASA,OAAO,SAASM,uBAAuBA,CAAAQ,KAAA,EAK6B;EAAA,IAJlEb,QAAQ,GAAAa,KAAA,CAARb,QAAQ;IACEF,YAAY,GAAAe,KAAA,CAAtBd,QAAQ;IACRe,YAAY,GAAAD,KAAA,CAAZC,YAAY;IACZN,KAAK,GAAAK,KAAA,CAALL,KAAK;EAEL,IAAMO,YAAY,GAAGP,KAAK,KAAKQ,SAAS;EACxC,IAAAC,eAAA,GAAoCtB,KAAK,CAACuB,QAAQ,CAACJ,YAAY,CAAC;IAAAK,gBAAA,GAAAZ,cAAA,CAAAU,eAAA;IAAzDG,UAAU,GAAAD,gBAAA;IAAEE,aAAa,GAAAF,gBAAA;EAEhC,IAAMpB,QAAQ,GAAGJ,KAAK,CAACe,WAAW,CAChC,UAACY,CAAI,EAAK;IACR,IAAItB,QAAQ,EAAE;MACZ;IACF;IAEA,CAACe,YAAY,IAAIM,aAAa,CAACC,CAAC,CAAC;IACjCxB,YAAY,IAAIA,YAAY,CAACwB,CAAC,CAAC;EACjC,CAAC,EACD,CAACtB,QAAQ,EAAEe,YAAY,EAAEjB,YAAY,CAAC,CACvC;EAED,OAAO,CAACiB,YAAY,GAAGP,KAAK,GAAGY,UAAU,EAAErB,QAAQ,CAAC;AACtD"},"metadata":{},"sourceType":"module","externalDependencies":[]}