{"ast":null,"code":"import * as React from 'react';\nimport { useDOM } from '../../lib/dom';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useTrackerVisibility } from './useTrackerVisibility';\nimport { stopPropagation } from '../../lib/utils';\nexport var CustomScrollView = function CustomScrollView(_ref) {\n  var className = _ref.className,\n    children = _ref.children,\n    externalBoxRef = _ref.boxRef,\n    windowResize = _ref.windowResize,\n    _ref$autoHideScrollba = _ref.autoHideScrollbar,\n    autoHideScrollbar = _ref$autoHideScrollba === void 0 ? false : _ref$autoHideScrollba,\n    autoHideScrollbarDelay = _ref.autoHideScrollbarDelay;\n  var _useDOM = useDOM(),\n    document = _useDOM.document,\n    window = _useDOM.window;\n  var ratio = React.useRef(NaN);\n  var lastTrackerTop = React.useRef(0);\n  var clientHeight = React.useRef(0);\n  var trackerHeight = React.useRef(0);\n  var scrollHeight = React.useRef(0);\n  var transformProp = React.useRef('');\n  var startY = React.useRef(0);\n  var trackerTop = React.useRef(0);\n  var boxRef = useExternRef(externalBoxRef);\n  var barY = React.useRef(null);\n  var trackerY = React.useRef(null);\n  var setTrackerPosition = function setTrackerPosition(scrollTop) {\n    lastTrackerTop.current = scrollTop;\n    if (trackerY.current !== null) {\n      trackerY.current.style[transformProp.current] = \"translate(0, \".concat(scrollTop, \"px)\");\n    }\n  };\n  var setTrackerPositionFromScroll = function setTrackerPositionFromScroll(scrollTop) {\n    var progress = scrollTop / (scrollHeight.current - clientHeight.current);\n    setTrackerPosition((clientHeight.current - trackerHeight.current) * progress);\n  };\n  var resize = function resize() {\n    if (!boxRef.current || !barY.current || !trackerY.current) {\n      return;\n    }\n    var localClientHeight = boxRef.current.clientHeight;\n    var localScrollHeight = boxRef.current.scrollHeight;\n    var localRatio = localClientHeight / localScrollHeight;\n    var localTrackerHeight = Math.max(localClientHeight * localRatio, 40);\n    ratio.current = localRatio;\n    clientHeight.current = localClientHeight;\n    scrollHeight.current = localScrollHeight;\n    trackerHeight.current = localTrackerHeight;\n    if (localRatio >= 1) {\n      barY.current.style.display = 'none';\n    } else {\n      barY.current.style.display = '';\n      trackerY.current.style.height = \"\".concat(localTrackerHeight, \"px\");\n      setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    }\n  };\n  var resizeHandler = useEventListener('resize', resize);\n  useIsomorphicLayoutEffect(function () {\n    if (windowResize && window) {\n      resizeHandler.add(window);\n    }\n  }, [windowResize, window]);\n  useIsomorphicLayoutEffect(function () {\n    var _trackerY$current;\n    var style = (_trackerY$current = trackerY.current) === null || _trackerY$current === void 0 ? void 0 : _trackerY$current.style;\n    var prop = '';\n    if (style !== undefined) {\n      if ('transform' in style) {\n        prop = 'transform';\n      } else if ('webkitTransform' in style) {\n        prop = 'webkitTransform';\n      }\n    }\n    transformProp.current = prop;\n  }, []);\n  useIsomorphicLayoutEffect(resize);\n  var setScrollPositionFromTracker = function setScrollPositionFromTracker(trackerTop) {\n    var progress = trackerTop / (clientHeight.current - trackerHeight.current);\n    if (boxRef.current !== null) {\n      boxRef.current.scrollTop = (scrollHeight.current - clientHeight.current) * progress;\n    }\n  };\n  var onMove = function onMove(e) {\n    e.preventDefault();\n    var diff = e.clientY - startY.current;\n    var position = Math.min(Math.max(trackerTop.current + diff, 0), clientHeight.current - trackerHeight.current);\n    setScrollPositionFromTracker(position);\n  };\n  var _useTrackerVisibility = useTrackerVisibility(autoHideScrollbar, autoHideScrollbarDelay),\n    trackerVisible = _useTrackerVisibility.trackerVisible,\n    onTargetScroll = _useTrackerVisibility.onTargetScroll,\n    onTrackerDragStart = _useTrackerVisibility.onTrackerDragStart,\n    onTrackerDragStop = _useTrackerVisibility.onTrackerDragStop,\n    onTrackerMouseEnter = _useTrackerVisibility.onTrackerMouseEnter,\n    onTrackerMouseLeave = _useTrackerVisibility.onTrackerMouseLeave;\n  var onUp = function onUp(e) {\n    e.preventDefault();\n    if (autoHideScrollbar) {\n      onTrackerDragStop();\n    }\n    unsubscribe();\n  };\n  var scroll = function scroll() {\n    if (ratio.current >= 1 || !boxRef.current) {\n      return;\n    }\n    if (autoHideScrollbar) {\n      onTargetScroll();\n    }\n    setTrackerPositionFromScroll(boxRef.current.scrollTop);\n  };\n  var listeners = [useEventListener('mousemove', onMove), useEventListener('mouseup', onUp)];\n  function subscribe(el) {\n    if (el) {\n      listeners.forEach(function (l) {\n        return l.add(el);\n      });\n    }\n  }\n  function unsubscribe() {\n    listeners.forEach(function (l) {\n      return l.remove();\n    });\n  }\n  var onDragStart = function onDragStart(e) {\n    e.preventDefault();\n    startY.current = e.clientY;\n    trackerTop.current = lastTrackerTop.current;\n    if (autoHideScrollbar) {\n      onTrackerDragStart();\n    }\n    subscribe(document);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiCustomScrollView\", className)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCustomScrollView__box\",\n    tabIndex: -1,\n    ref: boxRef,\n    onScroll: scroll\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCustomScrollView__barY\",\n    ref: barY,\n    onClick: stopPropagation\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiCustomScrollView__trackerY\", !trackerVisible && \"vkuiCustomScrollView__trackerY--hidden\"),\n    onMouseEnter: autoHideScrollbar ? onTrackerMouseEnter : undefined,\n    onMouseLeave: autoHideScrollbar ? onTrackerMouseLeave : undefined,\n    ref: trackerY,\n    onMouseDown: onDragStart\n  })));\n};","map":{"version":3,"names":["React","useDOM","classNames","useIsomorphicLayoutEffect","useExternRef","useEventListener","useTrackerVisibility","stopPropagation","CustomScrollView","_ref","className","children","externalBoxRef","boxRef","windowResize","_ref$autoHideScrollba","autoHideScrollbar","autoHideScrollbarDelay","_useDOM","document","window","ratio","useRef","NaN","lastTrackerTop","clientHeight","trackerHeight","scrollHeight","transformProp","startY","trackerTop","barY","trackerY","setTrackerPosition","scrollTop","current","style","concat","setTrackerPositionFromScroll","progress","resize","localClientHeight","localScrollHeight","localRatio","localTrackerHeight","Math","max","display","height","resizeHandler","add","_trackerY$current","prop","undefined","setScrollPositionFromTracker","onMove","e","preventDefault","diff","clientY","position","min","_useTrackerVisibility","trackerVisible","onTargetScroll","onTrackerDragStart","onTrackerDragStop","onTrackerMouseEnter","onTrackerMouseLeave","onUp","unsubscribe","scroll","listeners","subscribe","el","forEach","l","remove","onDragStart","createElement","tabIndex","ref","onScroll","onClick","onMouseEnter","onMouseLeave","onMouseDown"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\CustomScrollView\\CustomScrollView.tsx"],"sourcesContent":["import * as React from 'react';\nimport { DOMProps, useDOM } from '../../lib/dom';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { TrackerOptionsProps, useTrackerVisibility } from './useTrackerVisibility';\nimport { stopPropagation } from '../../lib/utils';\nimport styles from './CustomScrollView.module.css';\n\nexport interface CustomScrollViewProps extends DOMProps, TrackerOptionsProps {\n  windowResize?: boolean;\n  boxRef?: React.Ref<HTMLDivElement>;\n  className?: HTMLDivElement['className'];\n  children: React.ReactNode;\n}\n\nexport const CustomScrollView = ({\n  className,\n  children,\n  boxRef: externalBoxRef,\n  windowResize,\n  autoHideScrollbar = false,\n  autoHideScrollbarDelay,\n}: CustomScrollViewProps) => {\n  const { document, window } = useDOM();\n\n  const ratio = React.useRef(NaN);\n  const lastTrackerTop = React.useRef(0);\n  const clientHeight = React.useRef(0);\n  const trackerHeight = React.useRef(0);\n  const scrollHeight = React.useRef(0);\n  const transformProp = React.useRef('');\n  const startY = React.useRef(0);\n  const trackerTop = React.useRef(0);\n\n  const boxRef = useExternRef(externalBoxRef);\n\n  const barY = React.useRef<HTMLDivElement>(null);\n  const trackerY = React.useRef<HTMLDivElement>(null);\n\n  const setTrackerPosition = (scrollTop: number) => {\n    lastTrackerTop.current = scrollTop;\n    if (trackerY.current !== null) {\n      (trackerY.current.style as any)[transformProp.current] = `translate(0, ${scrollTop}px)`;\n    }\n  };\n\n  const setTrackerPositionFromScroll = (scrollTop: number) => {\n    const progress = scrollTop / (scrollHeight.current - clientHeight.current);\n    setTrackerPosition((clientHeight.current - trackerHeight.current) * progress);\n  };\n\n  const resize = () => {\n    if (!boxRef.current || !barY.current || !trackerY.current) {\n      return;\n    }\n    const localClientHeight = boxRef.current.clientHeight;\n    const localScrollHeight = boxRef.current.scrollHeight;\n    const localRatio = localClientHeight / localScrollHeight;\n    const localTrackerHeight = Math.max(localClientHeight * localRatio, 40);\n\n    ratio.current = localRatio;\n    clientHeight.current = localClientHeight;\n    scrollHeight.current = localScrollHeight;\n    trackerHeight.current = localTrackerHeight;\n\n    if (localRatio >= 1) {\n      barY.current.style.display = 'none';\n    } else {\n      barY.current.style.display = '';\n      trackerY.current.style.height = `${localTrackerHeight}px`;\n      setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    }\n  };\n\n  const resizeHandler = useEventListener('resize', resize);\n\n  useIsomorphicLayoutEffect(() => {\n    if (windowResize && window) {\n      resizeHandler.add(window);\n    }\n  }, [windowResize, window]);\n\n  useIsomorphicLayoutEffect(() => {\n    let style = trackerY.current?.style;\n    let prop = '';\n    if (style !== undefined) {\n      if ('transform' in style) {\n        prop = 'transform';\n      } else if ('webkitTransform' in style) {\n        prop = 'webkitTransform';\n      }\n    }\n    transformProp.current = prop;\n  }, []);\n\n  useIsomorphicLayoutEffect(resize);\n\n  const setScrollPositionFromTracker = (trackerTop: number) => {\n    const progress = trackerTop / (clientHeight.current - trackerHeight.current);\n    if (boxRef.current !== null) {\n      boxRef.current.scrollTop = (scrollHeight.current - clientHeight.current) * progress;\n    }\n  };\n\n  const onMove = (e: MouseEvent) => {\n    e.preventDefault();\n    const diff = e.clientY - startY.current;\n    const position = Math.min(\n      Math.max(trackerTop.current + diff, 0),\n      clientHeight.current - trackerHeight.current,\n    );\n\n    setScrollPositionFromTracker(position);\n  };\n\n  const {\n    trackerVisible,\n    onTargetScroll,\n    onTrackerDragStart,\n    onTrackerDragStop,\n    onTrackerMouseEnter,\n    onTrackerMouseLeave,\n  } = useTrackerVisibility(autoHideScrollbar, autoHideScrollbarDelay);\n\n  const onUp = (e: MouseEvent) => {\n    e.preventDefault();\n\n    if (autoHideScrollbar) {\n      onTrackerDragStop();\n    }\n\n    unsubscribe();\n  };\n\n  const scroll = () => {\n    if (ratio.current >= 1 || !boxRef.current) {\n      return;\n    }\n\n    if (autoHideScrollbar) {\n      onTargetScroll();\n    }\n\n    setTrackerPositionFromScroll(boxRef.current.scrollTop);\n  };\n\n  const listeners = [useEventListener('mousemove', onMove), useEventListener('mouseup', onUp)];\n\n  function subscribe(el: Document | undefined) {\n    if (el) {\n      listeners.forEach((l) => l.add(el));\n    }\n  }\n\n  function unsubscribe() {\n    listeners.forEach((l) => l.remove());\n  }\n\n  const onDragStart = (e: React.MouseEvent) => {\n    e.preventDefault();\n    startY.current = e.clientY;\n    trackerTop.current = lastTrackerTop.current;\n\n    if (autoHideScrollbar) {\n      onTrackerDragStart();\n    }\n\n    subscribe(document);\n  };\n\n  return (\n    <div className={classNames(styles['CustomScrollView'], className)}>\n      <div className={styles['CustomScrollView__box']} tabIndex={-1} ref={boxRef} onScroll={scroll}>\n        {children}\n      </div>\n\n      <div className={styles['CustomScrollView__barY']} ref={barY} onClick={stopPropagation}>\n        <div\n          className={classNames(\n            styles['CustomScrollView__trackerY'],\n            !trackerVisible && styles[`CustomScrollView__trackerY--hidden`],\n          )}\n          onMouseEnter={autoHideScrollbar ? onTrackerMouseEnter : undefined}\n          onMouseLeave={autoHideScrollbar ? onTrackerMouseLeave : undefined}\n          ref={trackerY}\n          onMouseDown={onDragStart}\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}