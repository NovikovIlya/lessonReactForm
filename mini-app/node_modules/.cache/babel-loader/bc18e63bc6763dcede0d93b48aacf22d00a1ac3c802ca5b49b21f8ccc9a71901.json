{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"viewDate\", \"value\", \"weekStartsOn\", \"onDayChange\", \"isDaySelected\", \"isDayActive\", \"isDaySelectionEnd\", \"isDaySelectionStart\", \"onDayEnter\", \"onDayLeave\", \"isDayHinted\", \"isHintedDaySelectionStart\", \"isHintedDaySelectionEnd\", \"isDayFocused\", \"isDayDisabled\", \"size\", \"showNeighboringMonth\", \"dayProps\", \"className\", \"listenDayChangesForUpdate\"];\nimport * as React from 'react';\nimport { isSameDay, isSameMonth } from '../../lib/date';\nimport { CalendarDay } from '../CalendarDay/CalendarDay';\nimport { getDaysNames, getWeeks } from '../../lib/calendar';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { classNames } from '@vkontakte/vkjs';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { useTodayDate } from '../../hooks/useTodayDate';\nexport var CalendarDays = function CalendarDays(_ref) {\n  var viewDate = _ref.viewDate,\n    value = _ref.value,\n    weekStartsOn = _ref.weekStartsOn,\n    onDayChange = _ref.onDayChange,\n    isDaySelected = _ref.isDaySelected,\n    isDayActive = _ref.isDayActive,\n    isDaySelectionEnd = _ref.isDaySelectionEnd,\n    isDaySelectionStart = _ref.isDaySelectionStart,\n    onDayEnter = _ref.onDayEnter,\n    onDayLeave = _ref.onDayLeave,\n    isDayHinted = _ref.isDayHinted,\n    isHintedDaySelectionStart = _ref.isHintedDaySelectionStart,\n    isHintedDaySelectionEnd = _ref.isHintedDaySelectionEnd,\n    isDayFocused = _ref.isDayFocused,\n    isDayDisabled = _ref.isDayDisabled,\n    size = _ref.size,\n    _ref$showNeighboringM = _ref.showNeighboringMonth,\n    showNeighboringMonth = _ref$showNeighboringM === void 0 ? false : _ref$showNeighboringM,\n    dayProps = _ref.dayProps,\n    className = _ref.className,\n    _ref$listenDayChanges = _ref.listenDayChangesForUpdate,\n    listenDayChangesForUpdate = _ref$listenDayChanges === void 0 ? false : _ref$listenDayChanges,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useConfigProvider = useConfigProvider(),\n    locale = _useConfigProvider.locale;\n  var ref = React.useRef(null);\n  var now = useTodayDate(listenDayChangesForUpdate);\n  var weeks = React.useMemo(function () {\n    return getWeeks(viewDate, weekStartsOn);\n  }, [weekStartsOn, viewDate]);\n  var daysNames = React.useMemo(function () {\n    return getDaysNames(now, weekStartsOn, locale);\n  }, [locale, now, weekStartsOn]);\n  var handleDayChange = React.useCallback(function (date) {\n    var _ref$current;\n    onDayChange(date);\n    (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.focus();\n  }, [onDayChange]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: classNames(\"vkuiCalendarDays\", className),\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiCalendarDays__row\", size && styles[\"CalendarDays__row--size-\".concat(size)])\n  }, daysNames.map(function (dayName) {\n    return /*#__PURE__*/React.createElement(Footnote, {\n      key: dayName,\n      className: \"vkuiCalendarDays__weekday\"\n    }, dayName);\n  })), weeks.map(function (week, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"vkuiCalendarDays__row\", size && styles[\"CalendarDays__row--size-\".concat(size)]),\n      key: i\n    }, week.map(function (day, i) {\n      var sameMonth = isSameMonth(day, viewDate);\n      return /*#__PURE__*/React.createElement(CalendarDay, _extends({\n        key: day.toISOString(),\n        day: day,\n        today: isSameDay(day, now),\n        active: isDayActive(day),\n        onChange: handleDayChange,\n        hidden: !showNeighboringMonth && !sameMonth,\n        disabled: isDayDisabled(day),\n        selectionStart: isDaySelectionStart(day, i),\n        selectionEnd: isDaySelectionEnd(day, i),\n        hintedSelectionStart: isHintedDaySelectionStart === null || isHintedDaySelectionStart === void 0 ? void 0 : isHintedDaySelectionStart(day, i),\n        hintedSelectionEnd: isHintedDaySelectionEnd === null || isHintedDaySelectionEnd === void 0 ? void 0 : isHintedDaySelectionEnd(day, i),\n        selected: isDaySelected === null || isDaySelected === void 0 ? void 0 : isDaySelected(day),\n        focused: isDayFocused(day),\n        onEnter: onDayEnter,\n        onLeave: onDayLeave,\n        hinted: isDayHinted === null || isDayHinted === void 0 ? void 0 : isDayHinted(day),\n        sameMonth: sameMonth,\n        size: size\n      }, dayProps));\n    }));\n  }));\n};\nvar styles = {\n  \"CalendarDays__row--size-s\": \"vkuiCalendarDays__row--size-s\",\n  \"CalendarDays__row--size-m\": \"vkuiCalendarDays__row--size-m\"\n};","map":{"version":3,"names":["React","isSameDay","isSameMonth","CalendarDay","getDaysNames","getWeeks","useConfigProvider","classNames","Footnote","useTodayDate","CalendarDays","_ref","viewDate","value","weekStartsOn","onDayChange","isDaySelected","isDayActive","isDaySelectionEnd","isDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","isHintedDaySelectionStart","isHintedDaySelectionEnd","isDayFocused","isDayDisabled","size","_ref$showNeighboringM","showNeighboringMonth","dayProps","className","_ref$listenDayChanges","listenDayChangesForUpdate","props","_objectWithoutProperties","_excluded","_useConfigProvider","locale","ref","useRef","now","weeks","useMemo","daysNames","handleDayChange","useCallback","date","_ref$current","current","focus","createElement","_extends","styles","concat","map","dayName","key","week","i","day","sameMonth","toISOString","today","active","onChange","hidden","disabled","selectionStart","selectionEnd","hintedSelectionStart","hintedSelectionEnd","selected","focused","onEnter","onLeave","hinted"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\CalendarDays\\CalendarDays.tsx"],"sourcesContent":["import * as React from 'react';\nimport { isSameDay, isSameMonth } from '../../lib/date';\nimport { CalendarDay, CalendarDayElementProps } from '../CalendarDay/CalendarDay';\nimport { getDaysNames, getWeeks } from '../../lib/calendar';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { classNames } from '@vkontakte/vkjs';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { useTodayDate } from '../../hooks/useTodayDate';\nimport styles from './CalendarDays.module.css';\n\nexport interface CalendarDaysProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  value?: Date | Array<Date | null>;\n  viewDate: Date;\n  weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n  showNeighboringMonth?: boolean;\n  size?: 's' | 'm';\n  dayProps?: CalendarDayElementProps;\n  listenDayChangesForUpdate?: boolean;\n  onDayChange(value: Date): void;\n  isDayDisabled(value: Date): boolean;\n  isDaySelectionStart(value: Date, dayOfWeek: number): boolean;\n  isDaySelectionEnd(value: Date, dayOfWeek: number): boolean;\n  isHintedDaySelectionStart?(value: Date, dayOfWeek: number): boolean;\n  isHintedDaySelectionEnd?(value: Date, dayOfWeek: number): boolean;\n  isDayActive(value: Date): boolean;\n  isDayHinted?(value: Date): boolean;\n  isDaySelected?(value: Date): boolean;\n  isDayFocused(value: Date): boolean;\n  onDayEnter?(value: Date): void;\n  onDayLeave?(value: Date): void;\n}\n\nexport const CalendarDays = ({\n  viewDate,\n  value,\n  weekStartsOn,\n  onDayChange,\n  isDaySelected,\n  isDayActive,\n  isDaySelectionEnd,\n  isDaySelectionStart,\n  onDayEnter,\n  onDayLeave,\n  isDayHinted,\n  isHintedDaySelectionStart,\n  isHintedDaySelectionEnd,\n  isDayFocused,\n  isDayDisabled,\n  size,\n  showNeighboringMonth = false,\n  dayProps,\n  className,\n  listenDayChangesForUpdate = false,\n  ...props\n}: CalendarDaysProps) => {\n  const { locale } = useConfigProvider();\n  const ref = React.useRef<HTMLDivElement>(null);\n  const now = useTodayDate(listenDayChangesForUpdate);\n\n  const weeks = React.useMemo(() => getWeeks(viewDate, weekStartsOn), [weekStartsOn, viewDate]);\n\n  const daysNames = React.useMemo(\n    () => getDaysNames(now, weekStartsOn, locale),\n    [locale, now, weekStartsOn],\n  );\n\n  const handleDayChange = React.useCallback(\n    (date: Date) => {\n      onDayChange(date);\n\n      ref.current?.focus();\n    },\n    [onDayChange],\n  );\n\n  return (\n    <div {...props} className={classNames(styles['CalendarDays'], className)} ref={ref}>\n      <div\n        className={classNames(\n          styles['CalendarDays__row'],\n          size && styles[`CalendarDays__row--size-${size}`],\n        )}\n      >\n        {daysNames.map((dayName) => (\n          <Footnote key={dayName} className={styles['CalendarDays__weekday']}>\n            {dayName}\n          </Footnote>\n        ))}\n      </div>\n\n      {weeks.map((week, i) => (\n        <div\n          className={classNames(\n            styles['CalendarDays__row'],\n            size && styles[`CalendarDays__row--size-${size}`],\n          )}\n          key={i}\n        >\n          {week.map((day, i) => {\n            const sameMonth = isSameMonth(day, viewDate);\n            return (\n              <CalendarDay\n                key={day.toISOString()}\n                day={day}\n                today={isSameDay(day, now)}\n                active={isDayActive(day)}\n                onChange={handleDayChange}\n                hidden={!showNeighboringMonth && !sameMonth}\n                disabled={isDayDisabled(day)}\n                selectionStart={isDaySelectionStart(day, i)}\n                selectionEnd={isDaySelectionEnd(day, i)}\n                hintedSelectionStart={isHintedDaySelectionStart?.(day, i)}\n                hintedSelectionEnd={isHintedDaySelectionEnd?.(day, i)}\n                selected={isDaySelected?.(day)}\n                focused={isDayFocused(day)}\n                onEnter={onDayEnter}\n                onLeave={onDayLeave}\n                hinted={isDayHinted?.(day)}\n                sameMonth={sameMonth}\n                size={size}\n                {...dayProps}\n              />\n            );\n          })}\n        </div>\n      ))}\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}