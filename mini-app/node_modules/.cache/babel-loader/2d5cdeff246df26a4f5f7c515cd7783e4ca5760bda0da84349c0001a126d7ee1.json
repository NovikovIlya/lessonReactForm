{"ast":null,"code":"import * as React from 'react';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\nexport var ScrollSaver = function ScrollSaver(_ref) {\n  var children = _ref.children,\n    initialScroll = _ref.initialScroll,\n    saveScroll = _ref.saveScroll;\n  var _React$useContext = React.useContext(ScrollContext),\n    getScroll = _React$useContext.getScroll,\n    scrollTo = _React$useContext.scrollTo;\n  useIsomorphicLayoutEffect(function () {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n    return function () {\n      return saveScroll(getScroll().y);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};","map":{"version":3,"names":["React","ScrollContext","useIsomorphicLayoutEffect","ScrollSaver","_ref","children","initialScroll","saveScroll","_React$useContext","useContext","getScroll","scrollTo","y","createElement","Fragment"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\Epic\\ScrollSaver.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n\nexport interface ScrollSaverProps {\n  initialScroll?: number;\n  saveScroll: (this: void, scroll: number) => any;\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\nexport const ScrollSaver = ({ children, initialScroll, saveScroll }: ScrollSaverProps) => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return <React.Fragment>{children}</React.Fragment>;\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,yBAAyB,QAAQ,qCAAqC;AAQ/E;AACA;AACA;AACA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAAC,IAAA,EAAkE;EAAA,IAA5DC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IAAEC,aAAa,GAAAF,IAAA,CAAbE,aAAa;IAAEC,UAAU,GAAAH,IAAA,CAAVG,UAAU;EAC/D,IAAAC,iBAAA,GAAgCR,KAAK,CAACS,UAAU,CAACR,aAAa,CAAC;IAAvDS,SAAS,GAAAF,iBAAA,CAATE,SAAS;IAAEC,QAAQ,GAAAH,iBAAA,CAARG,QAAQ;EAC3BT,yBAAyB,CAAC,YAAM;IAC9B,IAAI,OAAOI,aAAa,KAAK,QAAQ,EAAE;MACrCK,QAAQ,CAAC,CAAC,EAAEL,aAAa,CAAC;IAC5B;IACA,OAAO;MAAA,OAAMC,UAAU,CAACG,SAAS,EAAE,CAACE,CAAC,CAAC;IAAA;EACxC,CAAC,EAAE,EAAE,CAAC;EACN,oBAAOZ,KAAA,CAAAa,aAAA,CAACb,KAAK,CAACc,QAAQ,QAAET,QAAQ,CAAkB;AACpD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}