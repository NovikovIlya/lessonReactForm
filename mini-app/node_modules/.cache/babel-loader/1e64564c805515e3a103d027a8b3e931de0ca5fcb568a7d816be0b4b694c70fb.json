{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"className\"],\n  _excluded2 = [\"children\", \"isShown\", \"offsetX\", \"offsetY\", \"alignX\", \"alignY\", \"onClose\", \"cornerOffset\", \"cornerAbsoluteOffset\", \"appearance\", \"arrow\", \"placement\"];\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { useNavTransition } from '../NavTransitionContext/NavTransitionContext';\nimport { PopperArrow } from '../PopperArrow/PopperArrow';\nimport { usePopper } from 'react-popper';\nimport { tooltipContainerAttr } from './TooltipContainer';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useDOM } from '../../lib/dom';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nvar isDOMTypeElement = function isDOMTypeElement(element) {\n  return /*#__PURE__*/React.isValidElement(element) && typeof element.type === 'string';\n};\nvar warn = warnOnce('Tooltip');\nvar IS_DEV = process.env.NODE_ENV === 'development';\nvar SimpleTooltip = /*#__PURE__*/React.forwardRef(function SimpleTooltip(_ref, ref) {\n  var _attributes$container;\n  var _ref$appearance = _ref.appearance,\n    appearance = _ref$appearance === void 0 ? 'accent' : _ref$appearance,\n    header = _ref.header,\n    text = _ref.text,\n    arrow = _ref.arrow,\n    _ref$style = _ref.style,\n    popperStyles = _ref$style === void 0 ? {} : _ref$style,\n    attributes = _ref.attributes,\n    className = _ref.className;\n  var _ref2 = (_attributes$container = attributes === null || attributes === void 0 ? void 0 : attributes.container) !== null && _attributes$container !== void 0 ? _attributes$container : {},\n    containerClassName = _ref2.className,\n    restContainerAttributes = _objectWithoutProperties(_ref2, _excluded);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiTooltip\", styles[\"Tooltip--appearance-\".concat(appearance)], className)\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: classNames(\"vkuiTooltip__container\", containerClassName),\n    ref: ref,\n    style: popperStyles.container\n  }, restContainerAttributes), arrow && /*#__PURE__*/React.createElement(PopperArrow, {\n    style: popperStyles.arrow,\n    attributes: attributes === null || attributes === void 0 ? void 0 : attributes.arrow,\n    arrowClassName: \"vkuiTooltip__arrow\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiTooltip__content\"\n  }, header && /*#__PURE__*/React.createElement(Subhead, {\n    weight: \"2\",\n    className: \"vkuiTooltip__title\"\n  }, header), text && /*#__PURE__*/React.createElement(Subhead, {\n    className: \"vkuiTooltip__text\"\n  }, text))));\n});\nfunction mapAlignX(x) {\n  switch (x) {\n    case 'left':\n      return 'start';\n    case 'right':\n      return 'end';\n    default:\n      return '';\n  }\n}\nfunction getPlacement(alignX, alignY) {\n  return [alignY || 'bottom', mapAlignX(alignX || 'left')].filter(function (p) {\n    return !!p;\n  }).join('-');\n}\nfunction isVerticalPlacement(placement) {\n  return placement.startsWith('top') || placement.startsWith('bottom');\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Tooltip\n */\nexport var Tooltip = function Tooltip(_ref3) {\n  var _attributes$arrow, _attributes$popper;\n  var children = _ref3.children,\n    _ref3$isShown = _ref3.isShown,\n    _isShown = _ref3$isShown === void 0 ? true : _ref3$isShown,\n    _ref3$offsetX = _ref3.offsetX,\n    offsetX = _ref3$offsetX === void 0 ? 0 : _ref3$offsetX,\n    _ref3$offsetY = _ref3.offsetY,\n    offsetY = _ref3$offsetY === void 0 ? 15 : _ref3$offsetY,\n    alignX = _ref3.alignX,\n    alignY = _ref3.alignY,\n    onClose = _ref3.onClose,\n    _ref3$cornerOffset = _ref3.cornerOffset,\n    cornerOffset = _ref3$cornerOffset === void 0 ? 0 : _ref3$cornerOffset,\n    cornerAbsoluteOffset = _ref3.cornerAbsoluteOffset,\n    appearance = _ref3.appearance,\n    _ref3$arrow = _ref3.arrow,\n    arrow = _ref3$arrow === void 0 ? true : _ref3$arrow,\n    placement = _ref3.placement,\n    restProps = _objectWithoutProperties(_ref3, _excluded2);\n  var _useNavTransition = useNavTransition(),\n    entering = _useNavTransition.entering;\n  var isShown = _isShown && !entering;\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    tooltipRef = _React$useState2[0],\n    setTooltipRef = _React$useState2[1];\n  var _React$useState3 = React.useState(),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    target = _React$useState4[0],\n    setTarget = _React$useState4[1];\n  if (IS_DEV) {\n    var multiChildren = React.Children.count(children) > 1;\n    // Empty children is a noop\n    var primitiveChild = hasReactNode(children) && _typeof(children) !== 'object';\n    (multiChildren || primitiveChild) && warn(['children должен быть одним React элементом, получено', multiChildren && 'несколько', primitiveChild && JSON.stringify(children)].filter(Boolean).join(' '), 'error');\n  }\n\n  /* eslint-disable no-restricted-properties */\n  /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion*/\n  var tooltipContainer = React.useMemo(function () {\n    return target === null || target === void 0 ? void 0 : target.closest(\"[\".concat(tooltipContainerAttr, \"]\"));\n  }, [target]);\n  var strategy = React.useMemo(function () {\n    return (target === null || target === void 0 ? void 0 : target.style.position) === 'fixed' ? 'fixed' : 'absolute';\n  }, [target]);\n  /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion*/\n  /* eslint-enable no-restricted-properties */\n\n  if (IS_DEV && target && !tooltipContainer) {\n    throw new Error('Use TooltipContainer for Tooltip outside Panel (see docs)');\n  }\n  var modifiers = React.useMemo(function () {\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: [offsetX, offsetY]\n      }\n    }, {\n      name: 'preventOverflow'\n    }, {\n      name: 'flip'\n    }];\n    if (arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          padding: 14\n        }\n      });\n      modifiers.push({\n        name: 'arrowOffset',\n        enabled: true,\n        phase: 'main',\n        fn: function fn(_ref4) {\n          var state = _ref4.state;\n          if (!state.modifiersData.arrow) {\n            return;\n          }\n          if (isVerticalPlacement(state.placement)) {\n            if (cornerAbsoluteOffset !== undefined) {\n              state.modifiersData.arrow.x = cornerAbsoluteOffset;\n            } else {\n              var _state$modifiersData$;\n              if (((_state$modifiersData$ = state.modifiersData.arrow) === null || _state$modifiersData$ === void 0 ? void 0 : _state$modifiersData$.x) !== undefined) {\n                state.modifiersData.arrow.x += cornerOffset;\n              }\n            }\n          } else {\n            if (cornerAbsoluteOffset !== undefined) {\n              state.modifiersData.arrow.y = cornerAbsoluteOffset;\n            } else {\n              var _state$modifiersData$2;\n              if (((_state$modifiersData$2 = state.modifiersData.arrow) === null || _state$modifiersData$2 === void 0 ? void 0 : _state$modifiersData$2.y) !== undefined) {\n                state.modifiersData.arrow.y += cornerOffset;\n              }\n            }\n          }\n        }\n      });\n    }\n    return modifiers;\n  }, [arrow, cornerAbsoluteOffset, cornerOffset, offsetX, offsetY]);\n  var _placement = placement !== null && placement !== void 0 ? placement : getPlacement(alignX, alignY);\n  var _usePopper = usePopper(target, tooltipRef, {\n      strategy: strategy,\n      placement: _placement,\n      modifiers: modifiers\n    }),\n    popperStyles = _usePopper.styles,\n    attributes = _usePopper.attributes;\n  var _useDOM = useDOM(),\n    document = _useDOM.document;\n  useGlobalEventListener(document, 'click', isShown && onClose, {\n    passive: true\n  });\n  // NOTE: setting isShown to true used to trigger usePopper().forceUpdate()\n\n  var childRef = isDOMTypeElement(children) ? children.ref : /*#__PURE__*/React.isValidElement(children) ? children.props.getRootRef : null;\n  var patchedRef = useExternRef(setTarget, childRef);\n  var child = /*#__PURE__*/React.isValidElement(children) ? /*#__PURE__*/React.cloneElement(children, _defineProperty({}, isDOMTypeElement(children) ? 'ref' : 'getRootRef', patchedRef)) : children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, child, isShown && target != null && /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/React.createElement(SimpleTooltip, _extends({}, restProps, {\n    appearance: appearance,\n    arrow: arrow,\n    ref: function ref(el) {\n      return setTooltipRef(el);\n    },\n    style: {\n      arrow: popperStyles.arrow,\n      container: popperStyles.popper\n    },\n    attributes: {\n      arrow: (_attributes$arrow = attributes.arrow) !== null && _attributes$arrow !== void 0 ? _attributes$arrow : null,\n      container: (_attributes$popper = attributes.popper) !== null && _attributes$popper !== void 0 ? _attributes$popper : null\n    }\n  })), tooltipContainer));\n};\nvar styles = {\n  \"Tooltip--appearance-accent\": \"vkuiTooltip--appearance-accent\",\n  \"Tooltip--appearance-white\": \"vkuiTooltip--appearance-white\",\n  \"Tooltip--appearance-black\": \"vkuiTooltip--appearance-black\",\n  \"Tooltip--appearance-inversion\": \"vkuiTooltip--appearance-inversion\",\n  \"Tooltip--appearance-neutral\": \"vkuiTooltip--appearance-neutral\"\n};","map":{"version":3,"names":["React","ReactDOM","classNames","hasReactNode","Subhead","useNavTransition","PopperArrow","usePopper","tooltipContainerAttr","useExternRef","useDOM","warnOnce","useGlobalEventListener","isDOMTypeElement","element","isValidElement","type","warn","IS_DEV","process","env","NODE_ENV","SimpleTooltip","forwardRef","_ref","ref","_attributes$container","_ref$appearance","appearance","header","text","arrow","_ref$style","style","popperStyles","attributes","className","_ref2","container","containerClassName","restContainerAttributes","_objectWithoutProperties","_excluded","createElement","styles","concat","_extends","arrowClassName","weight","mapAlignX","x","getPlacement","alignX","alignY","filter","p","join","isVerticalPlacement","placement","startsWith","Tooltip","_ref3","_attributes$arrow","_attributes$popper","children","_ref3$isShown","isShown","_isShown","_ref3$offsetX","offsetX","_ref3$offsetY","offsetY","onClose","_ref3$cornerOffset","cornerOffset","cornerAbsoluteOffset","_ref3$arrow","restProps","_excluded2","_useNavTransition","entering","_React$useState","useState","_React$useState2","_slicedToArray","tooltipRef","setTooltipRef","_React$useState3","_React$useState4","target","setTarget","multiChildren","Children","count","primitiveChild","_typeof","JSON","stringify","Boolean","tooltipContainer","useMemo","closest","strategy","position","Error","modifiers","name","options","offset","push","padding","enabled","phase","fn","_ref4","state","modifiersData","undefined","_state$modifiersData$","y","_state$modifiersData$2","_placement","_usePopper","_useDOM","document","passive","childRef","props","getRootRef","patchedRef","child","cloneElement","_defineProperty","Fragment","createPortal","el","popper"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\Tooltip\\Tooltip.tsx"],"sourcesContent":["import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { useNavTransition } from '../NavTransitionContext/NavTransitionContext';\nimport { PopperArrow } from '../PopperArrow/PopperArrow';\nimport { Modifier, usePopper } from 'react-popper';\nimport { Placement } from '@popperjs/core';\nimport { tooltipContainerAttr } from './TooltipContainer';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useDOM } from '../../lib/dom';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nimport { HasRootRef } from '../../types';\nimport styles from './Tooltip.module.css';\n\ninterface SimpleTooltipProps extends Partial<TooltipProps> {\n  target?: HTMLDivElement;\n  style?: {\n    arrow: React.CSSProperties;\n    container: React.CSSProperties;\n  };\n  attributes?: {\n    arrow: React.HTMLAttributes<HTMLDivElement> | null;\n    container: React.HTMLAttributes<HTMLDivElement> | null;\n  };\n  className?: string;\n}\n\n/**\n * Перебиваем `ref`.\n *\n * В оригинальном `React.DOMElement` задаётся `React.LegacyRef<T>`, в котором есть `string`.\n * Когда как `{ ref: \"string\" }` уже давно депрекейтнут.\n */\ninterface DOMElement<P extends React.HTMLAttributes<T> | React.SVGAttributes<T>, T extends Element>\n  extends React.DOMElement<P, T> {\n  ref: React.Ref<T>;\n}\n\nconst isDOMTypeElement = <\n  P extends React.HTMLAttributes<T> | React.SVGAttributes<T>,\n  T extends Element,\n>(\n  element: React.ReactElement,\n): element is DOMElement<P, T> => {\n  return React.isValidElement(element) && typeof element.type === 'string';\n};\n\nconst warn = warnOnce('Tooltip');\nconst IS_DEV = process.env.NODE_ENV === 'development';\n\nconst SimpleTooltip = React.forwardRef<HTMLDivElement, SimpleTooltipProps>(function SimpleTooltip(\n  { appearance = 'accent', header, text, arrow, style: popperStyles = {}, attributes, className },\n  ref,\n) {\n  const { className: containerClassName, ...restContainerAttributes } = attributes?.container ?? {};\n\n  return (\n    <div\n      className={classNames(\n        styles['Tooltip'],\n        styles[`Tooltip--appearance-${appearance}`],\n        className,\n      )}\n    >\n      <div\n        className={classNames(styles['Tooltip__container'], containerClassName)}\n        ref={ref}\n        style={popperStyles.container}\n        {...restContainerAttributes}\n      >\n        {arrow && (\n          <PopperArrow\n            style={popperStyles.arrow}\n            attributes={attributes?.arrow}\n            arrowClassName={styles['Tooltip__arrow']}\n          />\n        )}\n        <div className={styles['Tooltip__content']}>\n          {header && (\n            <Subhead weight=\"2\" className={styles['Tooltip__title']}>\n              {header}\n            </Subhead>\n          )}\n          {text && <Subhead className={styles['Tooltip__text']}>{text}</Subhead>}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport interface TooltipProps {\n  /**\n   * **Важно**: если в `children` передан React-компонент, то необходимо убедиться в том, что он поддерживает\n   * свойство `getRootRef`, которое должно возвращаться ссылку на корневой DOM-элемент компонента,\n   * иначе тултип показан не будет. Если передан React-element, то такой проблемы нет.\n   */\n  children: React.ReactElement<HasRootRef<any>> | React.ReactElement;\n  /**\n   * Стиль отображения подсказки\n   */\n  appearance?: 'accent' | 'neutral' | 'white' | 'black' | 'inversion';\n  /**\n   * Если передан `false`, то рисуется просто `children`.\n   */\n  isShown?: boolean;\n  /**\n   * Текст тултипа.\n   */\n  text?: React.ReactNode;\n  /**\n   * Заголовок тултипа.\n   */\n  header?: React.ReactNode;\n  /**\n   * Положение по горизонтали (прижатие к левому или правому краю `children`).\n   * Если не задано, позиция по горизонтали определятся автоматически\n   */\n  alignX?: 'center' | 'left' | 'right';\n  /**\n   * Положение по вертикали (расположение над или под `children`).\n   * Если не задано, позиция по вертикали определятся автоматически\n   */\n  alignY?: 'top' | 'bottom';\n  /**\n   * Сдвиг по горизонтали (относительно портала, в котором рисуется тултип).\n   */\n  offsetX?: number;\n  /**\n   * Сдвиг по вертикали (относительно портала, в котором рисуется тултип).\n   */\n  offsetY?: number;\n  /**\n   * Отображать ли стрелку, указывающую на якорный элемент\n   */\n  arrow?: boolean;\n  /**\n   * Сдвиг стрелочки относительно центра дочернего элемента.\n   */\n  cornerOffset?: number;\n  /**\n   * Сдвиг стрелочки относительно ширины тултипа\n   */\n  cornerAbsoluteOffset?: number;\n  /**\n   * Callback, который вызывается при клике по любому месту в пределах экрана.\n   */\n  onClose?: () => void;\n  /**\n   * По умолчанию компонент выберет наилучшее расположение сам. Но его можно задать извне с помощью этого свойства\n   */\n  placement?: Placement;\n  /**\n   * Пользовательские css-классы, будут добавлены на root-элемент\n   */\n  className?: string;\n}\n\nfunction mapAlignX(x: TooltipProps['alignX']) {\n  switch (x) {\n    case 'left':\n      return 'start';\n    case 'right':\n      return 'end';\n    default:\n      return '';\n  }\n}\nfunction getPlacement(alignX: TooltipProps['alignX'], alignY: TooltipProps['alignY']): Placement {\n  return [alignY || 'bottom', mapAlignX(alignX || 'left')]\n    .filter((p) => !!p)\n    .join('-') as Placement;\n}\nfunction isVerticalPlacement(placement: Placement) {\n  return placement.startsWith('top') || placement.startsWith('bottom');\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Tooltip\n */\nexport const Tooltip = ({\n  children,\n  isShown: _isShown = true,\n  offsetX = 0,\n  offsetY = 15,\n  alignX,\n  alignY,\n  onClose,\n  cornerOffset = 0,\n  cornerAbsoluteOffset,\n  appearance,\n  arrow = true,\n  placement,\n  ...restProps\n}: TooltipProps) => {\n  const { entering } = useNavTransition();\n  const isShown = _isShown && !entering;\n  const [tooltipRef, setTooltipRef] = React.useState<HTMLElement | null>(null);\n  const [target, setTarget] = React.useState<HTMLElement>();\n\n  if (IS_DEV) {\n    const multiChildren = React.Children.count(children) > 1;\n    // Empty children is a noop\n    const primitiveChild = hasReactNode(children) && typeof children !== 'object';\n    (multiChildren || primitiveChild) &&\n      warn(\n        [\n          'children должен быть одним React элементом, получено',\n          multiChildren && 'несколько',\n          primitiveChild && JSON.stringify(children),\n        ]\n          .filter(Boolean)\n          .join(' '),\n        'error',\n      );\n  }\n\n  /* eslint-disable no-restricted-properties */\n  /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion*/\n  const tooltipContainer = React.useMemo(\n    () => target?.closest(`[${tooltipContainerAttr}]`) as HTMLDivElement,\n    [target],\n  );\n  const strategy = React.useMemo(\n    () => (target?.style.position === 'fixed' ? 'fixed' : 'absolute'),\n    [target],\n  );\n  /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion*/\n  /* eslint-enable no-restricted-properties */\n\n  if (IS_DEV && target && !tooltipContainer) {\n    throw new Error('Use TooltipContainer for Tooltip outside Panel (see docs)');\n  }\n\n  const modifiers = React.useMemo(() => {\n    const modifiers: Array<Modifier<string>> = [\n      {\n        name: 'offset',\n        options: {\n          offset: [offsetX, offsetY],\n        },\n      },\n      {\n        name: 'preventOverflow',\n      },\n      {\n        name: 'flip',\n      },\n    ];\n\n    if (arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          padding: 14,\n        },\n      });\n      modifiers.push({\n        name: 'arrowOffset',\n        enabled: true,\n        phase: 'main',\n        fn({ state }) {\n          if (!state.modifiersData.arrow) {\n            return;\n          }\n          if (isVerticalPlacement(state.placement)) {\n            if (cornerAbsoluteOffset !== undefined) {\n              state.modifiersData.arrow.x = cornerAbsoluteOffset;\n            } else {\n              if (state.modifiersData.arrow?.x !== undefined) {\n                state.modifiersData.arrow.x += cornerOffset;\n              }\n            }\n          } else {\n            if (cornerAbsoluteOffset !== undefined) {\n              state.modifiersData.arrow.y = cornerAbsoluteOffset;\n            } else {\n              if (state.modifiersData.arrow?.y !== undefined) {\n                state.modifiersData.arrow.y += cornerOffset;\n              }\n            }\n          }\n        },\n      });\n    }\n\n    return modifiers;\n  }, [arrow, cornerAbsoluteOffset, cornerOffset, offsetX, offsetY]);\n\n  const _placement = placement ?? getPlacement(alignX, alignY);\n  const { styles: popperStyles, attributes } = usePopper(target, tooltipRef, {\n    strategy,\n    placement: _placement,\n    modifiers,\n  });\n\n  const { document } = useDOM();\n  useGlobalEventListener(document, 'click', isShown && onClose, {\n    passive: true,\n  });\n  // NOTE: setting isShown to true used to trigger usePopper().forceUpdate()\n\n  const childRef = isDOMTypeElement<React.HTMLAttributes<HTMLElement>, HTMLElement>(children)\n    ? children.ref\n    : React.isValidElement<HasRootRef<HTMLElement>>(children)\n    ? children.props.getRootRef\n    : null;\n  const patchedRef = useExternRef(setTarget, childRef);\n  const child = React.isValidElement(children)\n    ? React.cloneElement(children, {\n        [isDOMTypeElement(children) ? 'ref' : 'getRootRef']: patchedRef,\n      })\n    : children;\n\n  return (\n    <React.Fragment>\n      {child}\n      {isShown &&\n        target != null &&\n        ReactDOM.createPortal(\n          <SimpleTooltip\n            {...restProps}\n            appearance={appearance}\n            arrow={arrow}\n            ref={(el) => setTooltipRef(el)}\n            style={{\n              arrow: popperStyles.arrow,\n              container: popperStyles.popper,\n            }}\n            attributes={{\n              arrow: attributes.arrow ?? null,\n              container: attributes.popper ?? null,\n            }}\n          />,\n          tooltipContainer,\n        )}\n    </React.Fragment>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}