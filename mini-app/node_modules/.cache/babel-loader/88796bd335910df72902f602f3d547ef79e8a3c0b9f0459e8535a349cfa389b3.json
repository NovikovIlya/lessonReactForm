{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"photoSize\", \"direction\"],\n  _excluded2 = [\"photos\", \"visibleCount\", \"count\", \"size\", \"layout\", \"children\", \"className\"];\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { useId } from '../../hooks/useId';\nfunction PathElement(_ref) {\n  var photoSize = _ref.photoSize,\n    direction = _ref.direction,\n    props = _objectWithoutProperties(_ref, _excluded);\n  switch (direction) {\n    case 'circle':\n      var radius = photoSize / 2;\n      return /*#__PURE__*/React.createElement(\"circle\", _extends({\n        cx: radius,\n        cy: radius,\n        r: radius\n      }, props));\n    case 'right':\n      switch (photoSize) {\n        case 24:\n          return /*#__PURE__*/React.createElement(\"path\", _extends({\n            d: \"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625\"\n          }, props));\n        default:\n          return /*#__PURE__*/React.createElement(\"path\", _extends({\n            d: \"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75\"\n          }, props));\n      }\n    default:\n      switch (photoSize) {\n        case 16:\n          return /*#__PURE__*/React.createElement(\"path\", _extends({\n            d: \"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285\"\n          }, props));\n        case 24:\n          return /*#__PURE__*/React.createElement(\"path\", _extends({\n            d: \"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625\"\n          }, props));\n        default:\n          return /*#__PURE__*/React.createElement(\"path\", _extends({\n            d: \"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75\"\n          }, props));\n      }\n  }\n}\nvar photoSizes = {\n  s: 16,\n  m: 24,\n  l: 32\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/UsersStack\n */\nexport var UsersStack = function UsersStack(_ref2) {\n  var _ref2$photos = _ref2.photos,\n    photos = _ref2$photos === void 0 ? [] : _ref2$photos,\n    _ref2$visibleCount = _ref2.visibleCount,\n    visibleCount = _ref2$visibleCount === void 0 ? 3 : _ref2$visibleCount,\n    _ref2$count = _ref2.count,\n    count = _ref2$count === void 0 ? Math.max(0, photos.length - visibleCount) : _ref2$count,\n    _ref2$size = _ref2.size,\n    size = _ref2$size === void 0 ? 'm' : _ref2$size,\n    _ref2$layout = _ref2.layout,\n    layout = _ref2$layout === void 0 ? 'horizontal' : _ref2$layout,\n    children = _ref2.children,\n    className = _ref2.className,\n    restProps = _objectWithoutProperties(_ref2, _excluded2);\n  var cmpId = useId();\n  var canShowOthers = count > 0 && size !== 's';\n  var CounterTypography = size === 'l' ? Footnote : Caption;\n  var photoSize = photoSizes[size];\n  var directionClip = canShowOthers ? 'right' : 'left';\n  var photosElements = photos.slice(0, visibleCount).map(function (photo, i) {\n    var direction = i === 0 && !canShowOthers ? 'circle' : directionClip;\n    var id = \"UsersStackDefs\".concat(cmpId).concat(i);\n    var hrefID = \"#\".concat(id);\n    var maskID = \"UsersStackMask\".concat(cmpId).concat(i);\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      className: \"vkuiUsersStack__photo\",\n      key: i,\n      \"aria-hidden\": true\n    }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(PathElement, {\n      id: id,\n      direction: direction,\n      photoSize: photoSize\n    })), /*#__PURE__*/React.createElement(\"clipPath\", {\n      id: maskID\n    }, /*#__PURE__*/React.createElement(\"use\", {\n      href: hrefID\n    })), /*#__PURE__*/React.createElement(\"g\", {\n      clipPath: \"url(#\".concat(maskID, \")\")\n    }, /*#__PURE__*/React.createElement(\"use\", {\n      href: hrefID,\n      className: \"vkuiUsersStack__fill\"\n    }), /*#__PURE__*/React.createElement(\"image\", {\n      href: photo,\n      width: photoSize,\n      height: photoSize\n    }), /*#__PURE__*/React.createElement(\"use\", {\n      href: hrefID,\n      fill: \"none\",\n      stroke: \"rgba(0, 0, 0, 0.08)\"\n    })));\n  });\n  var othersElement = canShowOthers ? /*#__PURE__*/React.createElement(CounterTypography, {\n    caps: true,\n    weight: \"1\",\n    className: classNames(\"vkuiUsersStack__photo\", \"vkuiUsersStack__photo--others\")\n  }, \"+\", count) : null;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, restProps, {\n    className: classNames(\"vkuiUsersStack\", styles[\"UsersStack--size-\".concat(size)], styles[\"UsersStack--layout-\".concat(layout)], canShowOthers && \"vkuiUsersStack--others\", className)\n  }), (photosElements.length > 0 || othersElement) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiUsersStack__photos\",\n    role: \"presentation\"\n  }, photosElements, othersElement), hasReactNode(children) && /*#__PURE__*/React.createElement(Footnote, {\n    className: \"vkuiUsersStack__text\"\n  }, children));\n};\nvar styles = {\n  \"UsersStack--size-s\": \"vkuiUsersStack--size-s\",\n  \"UsersStack--size-m\": \"vkuiUsersStack--size-m\",\n  \"UsersStack--size-l\": \"vkuiUsersStack--size-l\",\n  \"UsersStack--layout-vertical\": \"vkuiUsersStack--layout-vertical\",\n  \"UsersStack--layout-horizontal\": \"vkuiUsersStack--layout-horizontal\"\n};","map":{"version":3,"names":["React","classNames","hasReactNode","Footnote","Caption","useId","PathElement","_ref","photoSize","direction","props","_objectWithoutProperties","_excluded","radius","createElement","_extends","cx","cy","r","d","photoSizes","s","m","l","UsersStack","_ref2","_ref2$photos","photos","_ref2$visibleCount","visibleCount","_ref2$count","count","Math","max","length","_ref2$size","size","_ref2$layout","layout","children","className","restProps","_excluded2","cmpId","canShowOthers","CounterTypography","directionClip","photosElements","slice","map","photo","i","id","concat","hrefID","maskID","xmlns","key","href","clipPath","width","height","fill","stroke","othersElement","caps","weight","styles","role"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\UsersStack\\UsersStack.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { useId } from '../../hooks/useId';\nimport styles from './UsersStack.module.css';\n\nexport interface UsersStackProps extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Массив ссылок на фотографии\n   */\n  photos?: string[];\n  /**\n   * Размер аватарок\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Вертикальный режим рекомендуется использовать с размером `m`\n   */\n  layout?: 'vertical' | 'horizontal';\n  /**\n   * Количество аватарок, которые будут показаны.\n   * Если в массиве `photos` больше элементов и используется размер `m`, то будет показано количество остальных элементов\n   */\n  visibleCount?: number;\n  /**\n   * Число, которое будет указано в счетчике.\n   * По умолчанию высчитывается по формуле `photos.length - visibleCount`.\n   * Если число больше 99, то счетчик скроется.\n   */\n  count?: number;\n}\n\ninterface PathElementProps extends React.SVGAttributes<SVGElement> {\n  photoSize: number;\n  direction: 'circle' | 'right' | 'left';\n}\n\ntype PhotoSizeType = 16 | 24 | 32;\n\nfunction PathElement({ photoSize, direction, ...props }: PathElementProps) {\n  switch (direction) {\n    case 'circle':\n      const radius = photoSize / 2;\n\n      return <circle cx={radius} cy={radius} r={radius} {...props} />;\n\n    case 'right':\n      switch (photoSize) {\n        case 24:\n          return (\n            <path\n              d=\"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625\"\n              {...props}\n            />\n          );\n\n        default:\n          return (\n            <path\n              d=\"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75\"\n              {...props}\n            />\n          );\n      }\n\n    default:\n      switch (photoSize) {\n        case 16:\n          return (\n            <path\n              d=\"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285\"\n              {...props}\n            />\n          );\n        case 24:\n          return (\n            <path\n              d=\"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625\"\n              {...props}\n            />\n          );\n\n        default:\n          return (\n            <path\n              d=\"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75\"\n              {...props}\n            />\n          );\n      }\n  }\n}\n\nconst photoSizes: Record<NonNullable<UsersStackProps['size']>, PhotoSizeType> = {\n  s: 16,\n  m: 24,\n  l: 32,\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/UsersStack\n */\nexport const UsersStack = ({\n  photos = [],\n  visibleCount = 3,\n  count = Math.max(0, photos.length - visibleCount),\n  size = 'm',\n  layout = 'horizontal',\n  children,\n  className,\n  ...restProps\n}: UsersStackProps) => {\n  const cmpId = useId();\n\n  const canShowOthers = count > 0 && size !== 's';\n  const CounterTypography = size === 'l' ? Footnote : Caption;\n\n  const photoSize = photoSizes[size];\n  const directionClip = canShowOthers ? 'right' : 'left';\n\n  const photosElements = photos.slice(0, visibleCount).map((photo, i) => {\n    const direction = i === 0 && !canShowOthers ? 'circle' : directionClip;\n\n    const id = `UsersStackDefs${cmpId}${i}`;\n    const hrefID = `#${id}`;\n    const maskID = `UsersStackMask${cmpId}${i}`;\n\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className={styles['UsersStack__photo']}\n        key={i}\n        aria-hidden\n      >\n        <defs>\n          <PathElement id={id} direction={direction} photoSize={photoSize} />\n        </defs>\n        <clipPath id={maskID}>\n          <use href={hrefID} />\n        </clipPath>\n        <g clipPath={`url(#${maskID})`}>\n          <use href={hrefID} className={styles['UsersStack__fill']} />\n          <image href={photo} width={photoSize} height={photoSize} />\n          <use href={hrefID} fill=\"none\" stroke=\"rgba(0, 0, 0, 0.08)\" />\n        </g>\n      </svg>\n    );\n  });\n  const othersElement = canShowOthers ? (\n    <CounterTypography\n      caps\n      weight=\"1\"\n      className={classNames(styles['UsersStack__photo'], styles['UsersStack__photo--others'])}\n    >\n      +{count}\n    </CounterTypography>\n  ) : null;\n\n  return (\n    <div\n      {...restProps}\n      className={classNames(\n        styles['UsersStack'],\n        styles[`UsersStack--size-${size}`],\n        styles[`UsersStack--layout-${layout}`],\n        canShowOthers && styles['UsersStack--others'],\n        className,\n      )}\n    >\n      {(photosElements.length > 0 || othersElement) && (\n        <div className={styles['UsersStack__photos']} role=\"presentation\">\n          {photosElements}\n          {othersElement}\n        </div>\n      )}\n      {hasReactNode(children) && (\n        <Footnote className={styles['UsersStack__text']}>{children}</Footnote>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}