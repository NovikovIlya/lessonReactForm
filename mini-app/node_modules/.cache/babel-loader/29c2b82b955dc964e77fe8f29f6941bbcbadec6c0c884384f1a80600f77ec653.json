{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport * as React from 'react';\nimport { ConfigProviderContext, useConfigProvider } from './ConfigProviderContext';\nimport { TokensClassProvider } from '../../lib/tokensClassProvider';\nimport { useObjectMemo } from '../../hooks/useObjectMemo';\nimport { generateVKUITokensClassName } from '../../helpers/generateVKUITokensClassName';\nimport { useAutoDetectAppearance } from '../../hooks/useAutoDetectAppearance';\nimport { noop } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { useDOM } from '../../lib/dom';\n/**\n * @see https://vkcom.github.io/VKUI/#/ConfigProvider\n */\nexport var ConfigProvider = function ConfigProvider(props) {\n  var parentConfig = useConfigProvider();\n  var _parentConfig$props = _objectSpread(_objectSpread({}, parentConfig), props),\n    children = _parentConfig$props.children,\n    webviewType = _parentConfig$props.webviewType,\n    isWebView = _parentConfig$props.isWebView,\n    transitionMotionEnabled = _parentConfig$props.transitionMotionEnabled,\n    platform = _parentConfig$props.platform,\n    locale = _parentConfig$props.locale,\n    appearanceProp = _parentConfig$props.appearance,\n    _parentConfig$props$o = _parentConfig$props.onDetectAppearanceByBridge,\n    onDetectAppearanceByBridge = _parentConfig$props$o === void 0 ? noop : _parentConfig$props$o;\n  var appearance = useAutoDetectAppearance(appearanceProp, onDetectAppearanceByBridge);\n  var _useDOM = useDOM(),\n    document = _useDOM.document;\n  useIsomorphicLayoutEffect(function () {\n    var VKUITokensClassName = generateVKUITokensClassName(platform, appearance);\n\n    // eslint-disable-next-line no-restricted-properties\n    document.body.classList.add(VKUITokensClassName);\n    return function () {\n      // eslint-disable-next-line no-restricted-properties\n      document.body.classList.remove(VKUITokensClassName);\n    };\n  }, [platform, appearance]);\n  var configContext = useObjectMemo({\n    webviewType: webviewType,\n    isWebView: isWebView,\n    transitionMotionEnabled: transitionMotionEnabled,\n    platform: platform,\n    locale: locale,\n    appearance: appearance\n  });\n  return /*#__PURE__*/React.createElement(ConfigProviderContext.Provider, {\n    value: configContext\n  }, /*#__PURE__*/React.createElement(TokensClassProvider, {\n    platform: platform,\n    appearance: appearance\n  }, children));\n};","map":{"version":3,"names":["React","ConfigProviderContext","useConfigProvider","TokensClassProvider","useObjectMemo","generateVKUITokensClassName","useAutoDetectAppearance","noop","useIsomorphicLayoutEffect","useDOM","ConfigProvider","props","parentConfig","_parentConfig$props","_objectSpread","children","webviewType","isWebView","transitionMotionEnabled","platform","locale","appearanceProp","appearance","_parentConfig$props$o","onDetectAppearanceByBridge","_useDOM","document","VKUITokensClassName","body","classList","add","remove","configContext","createElement","Provider","value"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\ConfigProvider\\ConfigProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  ConfigProviderContext,\n  ConfigProviderContextInterface,\n  useConfigProvider,\n} from './ConfigProviderContext';\nimport { TokensClassProvider } from '../../lib/tokensClassProvider';\nimport { useObjectMemo } from '../../hooks/useObjectMemo';\nimport { generateVKUITokensClassName } from '../../helpers/generateVKUITokensClassName';\nimport { useAutoDetectAppearance } from '../../hooks/useAutoDetectAppearance';\nimport { noop } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { useDOM } from '../../lib/dom';\n\nexport interface ConfigProviderProps extends Partial<ConfigProviderContextInterface> {\n  onDetectAppearanceByBridge?: () => void;\n  children: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ConfigProvider\n */\nexport const ConfigProvider = (props: ConfigProviderProps) => {\n  const parentConfig = useConfigProvider();\n\n  const {\n    children,\n    webviewType,\n    isWebView,\n    transitionMotionEnabled,\n    platform,\n    locale,\n    appearance: appearanceProp,\n    onDetectAppearanceByBridge = noop,\n  } = {\n    ...parentConfig,\n    ...props,\n  };\n\n  const appearance = useAutoDetectAppearance(appearanceProp, onDetectAppearanceByBridge);\n\n  const { document } = useDOM();\n\n  useIsomorphicLayoutEffect(() => {\n    const VKUITokensClassName = generateVKUITokensClassName(platform, appearance);\n\n    // eslint-disable-next-line no-restricted-properties\n    document!.body.classList.add(VKUITokensClassName);\n\n    return () => {\n      // eslint-disable-next-line no-restricted-properties\n      document!.body.classList.remove(VKUITokensClassName);\n    };\n  }, [platform, appearance]);\n\n  const configContext = useObjectMemo({\n    webviewType,\n    isWebView,\n    transitionMotionEnabled,\n    platform,\n    locale,\n    appearance,\n  });\n\n  return (\n    <ConfigProviderContext.Provider value={configContext}>\n      <TokensClassProvider platform={platform} appearance={appearance}>\n        {children}\n      </TokensClassProvider>\n    </ConfigProviderContext.Provider>\n  );\n};\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SACEC,qBAAqB,EAErBC,iBAAiB,QACZ,yBAAyB;AAChC,SAASC,mBAAmB,QAAQ,+BAA+B;AACnE,SAASC,aAAa,QAAQ,2BAA2B;AACzD,SAASC,2BAA2B,QAAQ,2CAA2C;AACvF,SAASC,uBAAuB,QAAQ,qCAAqC;AAC7E,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SAASC,yBAAyB,QAAQ,qCAAqC;AAC/E,SAASC,MAAM,QAAQ,eAAe;AAOtC;AACA;AACA;AACA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,KAA0B,EAAK;EAC5D,IAAMC,YAAY,GAAGV,iBAAiB,EAAE;EAExC,IAAAW,mBAAA,GAAAC,aAAA,CAAAA,aAAA,KAUKF,YAAY,GACZD,KAAK;IAVRI,QAAQ,GAAAF,mBAAA,CAARE,QAAQ;IACRC,WAAW,GAAAH,mBAAA,CAAXG,WAAW;IACXC,SAAS,GAAAJ,mBAAA,CAATI,SAAS;IACTC,uBAAuB,GAAAL,mBAAA,CAAvBK,uBAAuB;IACvBC,QAAQ,GAAAN,mBAAA,CAARM,QAAQ;IACRC,MAAM,GAAAP,mBAAA,CAANO,MAAM;IACMC,cAAc,GAAAR,mBAAA,CAA1BS,UAAU;IAAAC,qBAAA,GAAAV,mBAAA,CACVW,0BAA0B;IAA1BA,0BAA0B,GAAAD,qBAAA,cAAGhB,IAAI,GAAAgB,qBAAA;EAMnC,IAAMD,UAAU,GAAGhB,uBAAuB,CAACe,cAAc,EAAEG,0BAA0B,CAAC;EAEtF,IAAAC,OAAA,GAAqBhB,MAAM,EAAE;IAArBiB,QAAQ,GAAAD,OAAA,CAARC,QAAQ;EAEhBlB,yBAAyB,CAAC,YAAM;IAC9B,IAAMmB,mBAAmB,GAAGtB,2BAA2B,CAACc,QAAQ,EAAEG,UAAU,CAAC;;IAE7E;IACAI,QAAQ,CAAEE,IAAI,CAACC,SAAS,CAACC,GAAG,CAACH,mBAAmB,CAAC;IAEjD,OAAO,YAAM;MACX;MACAD,QAAQ,CAAEE,IAAI,CAACC,SAAS,CAACE,MAAM,CAACJ,mBAAmB,CAAC;IACtD,CAAC;EACH,CAAC,EAAE,CAACR,QAAQ,EAAEG,UAAU,CAAC,CAAC;EAE1B,IAAMU,aAAa,GAAG5B,aAAa,CAAC;IAClCY,WAAW,EAAXA,WAAW;IACXC,SAAS,EAATA,SAAS;IACTC,uBAAuB,EAAvBA,uBAAuB;IACvBC,QAAQ,EAARA,QAAQ;IACRC,MAAM,EAANA,MAAM;IACNE,UAAU,EAAVA;EACF,CAAC,CAAC;EAEF,oBACEtB,KAAA,CAAAiC,aAAA,CAAChC,qBAAqB,CAACiC,QAAQ;IAACC,KAAK,EAAEH;EAAc,gBACnDhC,KAAA,CAAAiC,aAAA,CAAC9B,mBAAmB;IAACgB,QAAQ,EAAEA,QAAS;IAACG,UAAU,EAAEA;EAAW,GAC7DP,QAAQ,CACW,CACS;AAErC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}