{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"alt\", \"crossOrigin\", \"decoding\", \"loading\", \"referrerPolicy\", \"sizes\", \"src\", \"srcSet\", \"useMap\", \"getRef\", \"size\", \"width\", \"height\", \"style\", \"className\", \"getRootRef\", \"withBorder\", \"fallbackIcon\", \"children\", \"aria-label\", \"onClick\", \"onLoad\", \"onError\"];\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { ImageBaseBadge } from './ImageBaseBadge/ImageBaseBadge';\nimport { ImageBaseOverlay } from './ImageBaseOverlay/ImageBaseOverlay';\nimport { ImageBaseContext } from './context';\nimport { validateSize, validateFallbackIcon } from './validators';\nexport { getBadgeIconSizeByImageBaseSize, getFallbackIconSizeByImageBaseSize, getOverlayIconSizeByImageBaseSize } from './helpers';\nexport { ImageBaseContext };\n/**\n * @see https://vkcom.github.io/VKUI/#/ImageBase\n */\nexport var ImageBase = function ImageBase(_ref) {\n  var alt = _ref.alt,\n    crossOrigin = _ref.crossOrigin,\n    decoding = _ref.decoding,\n    loading = _ref.loading,\n    referrerPolicy = _ref.referrerPolicy,\n    sizes = _ref.sizes,\n    src = _ref.src,\n    srcSet = _ref.srcSet,\n    useMap = _ref.useMap,\n    getRef = _ref.getRef,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 24 : _ref$size,\n    width = _ref.width,\n    height = _ref.height,\n    style = _ref.style,\n    className = _ref.className,\n    getRootRef = _ref.getRootRef,\n    _ref$withBorder = _ref.withBorder,\n    withBorder = _ref$withBorder === void 0 ? true : _ref$withBorder,\n    fallbackIconProp = _ref['fallbackIcon'],\n    children = _ref.children,\n    ariaLabel = _ref['aria-label'],\n    onClick = _ref.onClick,\n    onLoad = _ref.onLoad,\n    onError = _ref.onError,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    loaded = _React$useState2[0],\n    setLoaded = _React$useState2[1];\n  var _React$useState3 = React.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    failed = _React$useState4[0],\n    setFailed = _React$useState4[1];\n  var hasSrc = src || srcSet;\n  var needShowFallbackIcon = (failed || !hasSrc) && /*#__PURE__*/React.isValidElement(fallbackIconProp);\n  var fallbackIcon = needShowFallbackIcon ? fallbackIconProp : null;\n  if (process.env.NODE_ENV === 'development') {\n    validateSize(size);\n    if (fallbackIcon) {\n      validateFallbackIcon(size, {\n        name: 'fallbackIcon',\n        value: fallbackIcon\n      });\n    }\n  }\n  var handleImageLoad = function handleImageLoad(event) {\n    setLoaded(true);\n    setFailed(false);\n    onLoad === null || onLoad === void 0 ? void 0 : onLoad(event);\n  };\n  var handleImageError = function handleImageError(event) {\n    setLoaded(false);\n    setFailed(true);\n    onError === null || onError === void 0 ? void 0 : onError(event);\n  };\n  return /*#__PURE__*/React.createElement(ImageBaseContext.Provider, {\n    value: {\n      size: size\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({}, restProps, {\n    ref: getRootRef,\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      width: size,\n      height: size\n    }),\n    className: classNames(className, \"vkuiImageBase\", styles[\"ImageBase--size-\".concat(size)], withBorder && \"vkuiImageBase--withBorder\", loaded && \"vkuiImageBase--loaded\"),\n    role: hasSrc ? 'img' : 'presentation',\n    \"aria-label\": ariaLabel,\n    onClick: onClick\n  }), hasSrc && /*#__PURE__*/React.createElement(\"img\", {\n    ref: getRef,\n    alt: alt,\n    className: \"vkuiImageBase__img\",\n    crossOrigin: crossOrigin,\n    decoding: decoding,\n    loading: loading,\n    referrerPolicy: referrerPolicy,\n    sizes: sizes,\n    src: src,\n    srcSet: srcSet,\n    useMap: useMap,\n    width: width,\n    height: height,\n    onLoad: handleImageLoad,\n    onError: handleImageError\n  }), fallbackIcon && /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiImageBase__fallback\")\n  }, fallbackIcon), children));\n};\nImageBase.Badge = ImageBaseBadge;\nImageBase.Overlay = ImageBaseOverlay;\nvar styles = {\n  \"ImageBase--size-16\": \"vkuiImageBase--size-16\",\n  \"ImageBase--size-20\": \"vkuiImageBase--size-20\",\n  \"ImageBase--size-24\": \"vkuiImageBase--size-24\",\n  \"ImageBase--size-28\": \"vkuiImageBase--size-28\",\n  \"ImageBase--size-32\": \"vkuiImageBase--size-32\",\n  \"ImageBase--size-36\": \"vkuiImageBase--size-36\",\n  \"ImageBase--size-40\": \"vkuiImageBase--size-40\",\n  \"ImageBase--size-44\": \"vkuiImageBase--size-44\",\n  \"ImageBase--size-48\": \"vkuiImageBase--size-48\",\n  \"ImageBase--size-56\": \"vkuiImageBase--size-56\",\n  \"ImageBase--size-64\": \"vkuiImageBase--size-64\",\n  \"ImageBase--size-72\": \"vkuiImageBase--size-72\",\n  \"ImageBase--size-80\": \"vkuiImageBase--size-80\",\n  \"ImageBase--size-88\": \"vkuiImageBase--size-88\",\n  \"ImageBase--size-96\": \"vkuiImageBase--size-96\"\n};","map":{"version":3,"names":["React","classNames","ImageBaseBadge","ImageBaseOverlay","ImageBaseContext","validateSize","validateFallbackIcon","getBadgeIconSizeByImageBaseSize","getFallbackIconSizeByImageBaseSize","getOverlayIconSizeByImageBaseSize","ImageBase","_ref","alt","crossOrigin","decoding","loading","referrerPolicy","sizes","src","srcSet","useMap","getRef","_ref$size","size","width","height","style","className","getRootRef","_ref$withBorder","withBorder","fallbackIconProp","children","ariaLabel","onClick","onLoad","onError","restProps","_objectWithoutProperties","_excluded","_React$useState","useState","_React$useState2","_slicedToArray","loaded","setLoaded","_React$useState3","_React$useState4","failed","setFailed","hasSrc","needShowFallbackIcon","isValidElement","fallbackIcon","process","env","NODE_ENV","name","value","handleImageLoad","event","handleImageError","createElement","Provider","_extends","ref","_objectSpread","styles","concat","role","Badge","Overlay"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkui\\src\\components\\ImageBase\\ImageBase.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasRef, HasRootRef } from '../../types';\nimport { type ImageBaseBadgeProps, ImageBaseBadge } from './ImageBaseBadge/ImageBaseBadge';\nimport { type ImageBaseOverlayProps, ImageBaseOverlay } from './ImageBaseOverlay/ImageBaseOverlay';\nimport type { ImageBaseExpectedIconProps, ImageBaseSize, ImageBaseContextProps } from './types';\nimport { ImageBaseContext } from './context';\nimport { validateSize, validateFallbackIcon } from './validators';\nimport styles from './ImageBase.module.css';\n\nexport type {\n  ImageBaseSize,\n  ImageBaseExpectedIconProps,\n  ImageBaseBadgeProps,\n  ImageBaseOverlayProps,\n  ImageBaseContextProps,\n};\n\nexport {\n  getBadgeIconSizeByImageBaseSize,\n  getFallbackIconSizeByImageBaseSize,\n  getOverlayIconSizeByImageBaseSize,\n} from './helpers';\n\nexport { ImageBaseContext };\n\nexport interface ImageBaseProps\n  extends React.ImgHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLDivElement>,\n    HasRef<HTMLImageElement> {\n  /**\n   * –ó–∞–¥–∞—ë—Ç —Ä–∞–∑–º–µ—Ä –∫–∞—Ä—Ç–∏–Ω–∫–∏.\n   *\n   * –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–º–µ—Ä—ã –∑–∞–¥–∞–Ω–Ω—ã–µ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–æ–π `16 | 20 | 24 | 28 | 32 | 36 | 40 | 44 | 48 | 56 | 64 | 72 | 80 | 88 | 96`.\n   *\n   * > ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ ‚Äì —ç—Ç–æ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–π –∫–µ–π—Å.\n   */\n  size?: ImageBaseSize | number;\n  /**\n   * –í–∫–ª—é—á–∞–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –æ–±–≤–æ–¥–∫—É.\n   */\n  withBorder?: boolean;\n  /**\n   * –§–æ–ª–±–µ–∫ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–µ –ø—Ä–æ–≥—Ä—É–∑–∏–ª–∞—Å—å.\n   *\n   * > üìù –ù—É–∂–Ω—ã–π –¥–ª—è `<ImageBase size={...} />` —Ä–∞–∑–º–µ—Ä –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ `getFallbackIconSizeByImageBaseSize()`.\n   *\n   * > –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏ –∏–∑ `@vkontakte/icons`.\n   *\n   * > üìäÔ∏è –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –∏–∫–æ–Ω–∫—É, —Ç–æ —Å–ª–µ–¥—É–µ—Ç –∏–º–µ–Ω–æ–≤–∞—Ç—å –µ—ë –ø–æ —à–∞–±–ª–æ–Ω—É `Icon<size><name>`. –ò–ª–∏ –∂–µ\n   * > —á—Ç–æ–±—ã –≤ –Ω–µ—ë –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `width`. –¢–æ–≥–¥–∞ –º—ã —Å–º–æ–∂–µ–º –≤—ã–≤–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å –ø–æ–¥—Å–∫–∞–∑–∫—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ª–∏ —Ä–∞–∑–º–µ—Ä–∞ –≤—ã\n   * > –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∏–∫–æ–Ω–∫—É.\n   *\n   * > ‚ö†Ô∏è –ú–æ–∂–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å `children`.\n   */\n  fallbackIcon?: React.ReactElement<ImageBaseExpectedIconProps>;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ImageBase\n */\nexport const ImageBase = ({\n  alt,\n  crossOrigin,\n  decoding,\n  loading,\n  referrerPolicy,\n  sizes,\n  src,\n  srcSet,\n  useMap,\n  getRef,\n  size = 24,\n  width,\n  height,\n  style,\n  className,\n  getRootRef,\n  withBorder = true,\n  'fallbackIcon': fallbackIconProp,\n  children,\n  'aria-label': ariaLabel,\n  onClick,\n  onLoad,\n  onError,\n  ...restProps\n}: ImageBaseProps) => {\n  const [loaded, setLoaded] = React.useState(false);\n  const [failed, setFailed] = React.useState(false);\n\n  const hasSrc = src || srcSet;\n  const needShowFallbackIcon = (failed || !hasSrc) && React.isValidElement(fallbackIconProp);\n\n  const fallbackIcon = needShowFallbackIcon ? fallbackIconProp : null;\n\n  if (process.env.NODE_ENV === 'development') {\n    validateSize(size);\n    if (fallbackIcon) {\n      validateFallbackIcon(size, { name: 'fallbackIcon', value: fallbackIcon });\n    }\n  }\n\n  const handleImageLoad = (event: React.SyntheticEvent<HTMLImageElement>) => {\n    setLoaded(true);\n    setFailed(false);\n    onLoad?.(event);\n  };\n\n  const handleImageError = (event: React.SyntheticEvent<HTMLImageElement>) => {\n    setLoaded(false);\n    setFailed(true);\n    onError?.(event);\n  };\n\n  return (\n    <ImageBaseContext.Provider value={{ size }}>\n      <div\n        {...restProps}\n        ref={getRootRef}\n        style={{ ...style, width: size, height: size }}\n        className={classNames(\n          className,\n          styles['ImageBase'],\n          styles[`ImageBase--size-${size as ImageBaseSize}`],\n          withBorder && styles['ImageBase--withBorder'],\n          loaded && styles['ImageBase--loaded'],\n        )}\n        role={hasSrc ? 'img' : 'presentation'}\n        aria-label={ariaLabel}\n        onClick={onClick}\n      >\n        {hasSrc && (\n          <img\n            ref={getRef}\n            alt={alt}\n            className={styles['ImageBase__img']}\n            crossOrigin={crossOrigin}\n            decoding={decoding}\n            loading={loading}\n            referrerPolicy={referrerPolicy}\n            sizes={sizes}\n            src={src}\n            srcSet={srcSet}\n            useMap={useMap}\n            width={width}\n            height={height}\n            onLoad={handleImageLoad}\n            onError={handleImageError}\n          />\n        )}\n        {fallbackIcon && (\n          <div className={classNames(styles['ImageBase__fallback'])}>{fallbackIcon}</div>\n        )}\n        {children}\n      </div>\n    </ImageBaseContext.Provider>\n  );\n};\n\nImageBase.Badge = ImageBaseBadge;\n\nImageBase.Overlay = ImageBaseOverlay;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}