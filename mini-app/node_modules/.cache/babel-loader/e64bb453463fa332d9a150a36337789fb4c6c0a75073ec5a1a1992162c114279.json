{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction parse(query) {\n  if (typeof query !== 'string') {\n    return {};\n  }\n  query = query.trim().replace(/^[?#&]/, '');\n  if (!query) {\n    return {};\n  }\n  var matches = /\\?(.+)$/gi.exec(query);\n  var str = matches ? matches[1] : query;\n  return str.split('&').reduce(function (acc, item) {\n    var param = item.split('=');\n    if (param[1]) {\n      acc[param[0]] = decodeURIComponent(param[1]);\n    }\n    return acc;\n  }, {});\n}\nfunction stringify(data) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (_typeof(data) !== 'object' || data === null) {\n    return '';\n  }\n  options = _objectSpread({\n    encode: true\n  }, options);\n  var encode = function encode(value) {\n    return options.encode ? encodeURIComponent(value) : String(value);\n  };\n  return Object.keys(data).reduce(function (acc, key) {\n    var value = data[key];\n    if (value === undefined) {\n      return acc;\n    }\n    if (value === null) {\n      if (!options.skipNull) {\n        acc.push([encode(key), ''].join('='));\n      }\n      return acc;\n    }\n    if (Array.isArray(value)) {\n      value.map(function (arrayItem) {\n        acc.push(\"\".concat(encode(key), \"[]=\").concat(encode(arrayItem)));\n      }).join();\n      return acc;\n    }\n    acc.push([encode(key), encode(value)].join('='));\n    return acc;\n  }, []).join('&');\n}\nexport var querystring = {\n  parse: parse,\n  stringify: stringify\n};","map":{"version":3,"names":["parse","query","trim","replace","matches","exec","str","split","reduce","acc","item","param","decodeURIComponent","stringify","data","options","arguments","length","undefined","_typeof","_objectSpread","encode","value","encodeURIComponent","String","Object","keys","key","skipNull","push","join","Array","isArray","map","arrayItem","concat","querystring"],"sources":["E:\\lessonReactForm\\mini-app\\node_modules\\@vkontakte\\vkjs\\src\\querystring.ts"],"sourcesContent":["export interface ParsedQuery<T = string> {\n  [key: string]: T | T[] | null;\n}\n\nfunction parse(query: string | any): ParsedQuery {\n  if (typeof query !== 'string') {\n    return {};\n  }\n\n  query = query.trim().replace(/^[?#&]/, '');\n  if (!query) {\n    return {};\n  }\n\n  const matches = /\\?(.+)$/gi.exec(query);\n  const str = matches ? matches[1] : query;\n\n  return str.split('&').reduce((acc: ParsedQuery, item: string) => {\n    const param = item.split('=');\n\n    if (param[1]) {\n      acc[param[0]] = decodeURIComponent(param[1]);\n    }\n\n    return acc;\n  }, {});\n}\n\ntype StringifyQueryItem = string | boolean | number | null | undefined;\n\ntype StringifyQuery = Record<string, StringifyQueryItem | readonly StringifyQueryItem[]>;\n\ninterface StringifyOptions {\n  /**\n   * URL encode the keys and values\n   *\n   * @default true\n   */\n  encode?: boolean;\n\n  /**\n   * Skip keys with `null` as the value.\n   * Keys with `undefined` as the value are always ignored.\n   *\n   * @default true\n   */\n  skipNull?: true;\n}\n\nfunction stringify(data: StringifyQuery, options: StringifyOptions = {}): string {\n  if (typeof data !== 'object' || data === null) {\n    return '';\n  }\n\n  options = {\n    encode: true,\n    ...options,\n  };\n\n  const encode = (value: any): string => {\n    return options.encode ? encodeURIComponent(value) : String(value);\n  };\n\n  return Object.keys(data)\n    .reduce<string[]>((acc, key) => {\n      const value = data[key];\n\n      if (value === undefined) {\n        return acc;\n      }\n\n      if (value === null) {\n        if (!options.skipNull) {\n          acc.push([encode(key), ''].join('='));\n        }\n\n        return acc;\n      }\n\n      if (Array.isArray(value)) {\n        value\n          .map((arrayItem) => {\n            acc.push(`${encode(key)}[]=${encode(arrayItem)}`);\n          })\n          .join();\n        return acc;\n      }\n\n      acc.push([encode(key), encode(value)].join('='));\n      return acc;\n    }, [])\n    .join('&');\n}\n\nexport const querystring = {\n  parse,\n  stringify,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}